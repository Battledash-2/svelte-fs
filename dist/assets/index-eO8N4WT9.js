(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();const Vt=()=>{};function sn(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Vt;const r=e.subscribe(t,n);return r.unsubscribe?()=>r.unsubscribe():r}let C=null;function fe(e){C=e}function mt(e){const t=[];let n=e,r=null;for(;n!==null;){const l=n.nodeType,o=n.nextSibling;if(l===8){const i=n.data;if(i.startsWith("ssr:")){const f=i.slice(4);if(r===null)r=f;else{if(f===r)return t;t.push(n)}n=o;continue}}r!==null&&t.push(n),n=o}return null}function Ye(e,t){let n=e;if(C!==null)if(t&&(n=n.firstChild),n.nodeType===8){let r=n.$$fragment;r===void 0&&(r=mt(n),n.$$fragment=void 0),fe(r)}else fe([n.firstChild])}const fn=Object,cn=Array,de=cn.isArray,Zn=cn.from,Te=fn.defineProperty,we=fn.getOwnPropertyDescriptor;var ge,tt,Pt,nt,an,dn,Qt,_n,pn;function zn(){ge===void 0&&(ge=Node.prototype,tt=Element.prototype,Pt=Text.prototype,nt=Map.prototype,an=ge.appendChild,dn=ge.cloneNode,nt.set,nt.get,nt.delete,tt.__click=void 0,Pt.__nodeValue=" ",tt.__className="",Qt=we(ge,"firstChild").get,_n=we(ge,"nextSibling").get,pn=we(ge,"textContent").set,we(tt,"className").set)}function Xt(e,t){an.call(e,t)}function Yn(e,t){return dn.call(e,t)}function R(e){const t=Qt.call(e);if(C!==null)if(t===null){const n=document.createTextNode("");return e.appendChild(n),n}else return Gt(t);return t}function O(e){if(C!==null){const t=e[0];return C!==null&&t!==null?Gt(t):t}return Qt.call(e)}function b(e){const t=_n.call(e);return C!==null&&t!==null?Gt(t):t}function Pn(e){pn.call(e,"")}function Gt(e){if(e.nodeType===8&&e.data.startsWith("ssr:")&&C.at(-1)!==e){const t=mt(e),r=(t.at(-1)||e).nextSibling;return r.$$fragment=t,r}return e}const Xn=0,Jn=1,Wn=2,$n=3,er=7;function tr(e,t){return{dom:null,effect:null,container:e,intro:t,parent:null,transition:null,type:Xn}}function nr(){return{current:!1,dom:null,effect:null,parent:D,transition:null,type:Jn}}function rr(){return{dom:null,effect:null,parent:D,transition:null,type:er}}function lr(e,t){return{anchor:t,dom:null,flags:e,items:[],effect:null,parent:D,transition:null,transitions:[],type:Wn}}function or(e,t,n){return{dom:null,effect:null,index:t,key:n,item:e,parent:D,transition:null,transitions:null,type:$n}}const mn=1,gn=2,ir=4,rt=8,ur=["touchstart","touchmove","touchend"];function sr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function it(e,t,n){if(de(e)){for(var r=0,l;r<e.length;r++)l=e[r],n===null?Xt(t,l):n.before(l);return e[0]}else e!==null&&(n===null?Xt(t,e):n.before(e));return e}function j(e){var t=e;if(de(e))for(var n=0,r;n<e.length;n++)r=e[n],n===0&&(t=r),r.isConnected&&r.remove();else e.isConnected&&e.remove();return t}function fr(e,t,n,r){var l=e.dom;return r===null?n?it(l,t,null):it(l,t.parentNode,t):it(l,null,r)}function cr(e){var t=e.length;if(t>0){for(var n=0,r,l;n<t;n++)r=e[n],l=r.transition,l!==null&&(r.transition=null,Ft(r,null,!1));e.length=0}}function ar(e,t,n,r,l,o,i){var f=t.items,s=t.transitions,u=f.length,a=e.length,_=Math.max(u,a),g=0,v,h;if(s.length!==0&&cr(s),a===0)for(v=[],r&&u!==0&&Pn(n);g<_;)h=f[g++],Ft(h,s,i,r);else{var p;if(v=Array(a),C!==null)for(var A=C[0];g<_;g++){p=e[g];var c=mt(A);fe(c),A=c.at(-1).nextSibling.nextSibling,h=Wt(p,null,g,l,o),v[g]=h}else for(;g<_;g++)g>=u?(p=e[g],h=Wt(p,null,g,l,o),v[g]=h,fr(h,n,r,null)):g>=a?(h=f[g],Ft(h,s,i)):(p=e[g],h=f[g],v[g]=h,gr(h,p,g,o))}t.items=v}function ct(e){for(let t of e)t.direction==="in"&&e.delete(t)}function se(e,t,n){const r=[];for(const l of e){const o=l.direction;t==="in"?(o==="in"||o==="both"?(o==="in"&&l.cancel(),l.in()):l.cancel(),l.dom.inert=!1,Nt(l.effect,!1)):t==="key"?o==="key"&&(l.payload=l.init(n),l.in()):((o==="out"||o==="both")&&(l.payload=l.init(),r.push(l.out)),l.dom.inert=!0,Nt(l.effect,!0))}if(r.length>0){const l=qr(()=>{T(l);const o=Sn(()=>{T(o),r.forEach(i=>i())})},!1)}}const vn=new Set,Bt=new Set;function hn(){return document.createTextNode("")}function B(e,t){let n;return()=>{if(n===void 0){const r=sr(e);n=t?r:R(r)}return n}}function An(e,t,n,r){if(C!==null){n!==null&&Ye(n,!1);const l=C;if(l!==null)return e?l:l[0]}return t?Yn(r(),!0):document.importNode(r(),!0)}function De(e,t,n){return An(!1,t,e,n)}function S(e,t,n){return An(!0,t,e,n)}function bn(e,t,n){const r=D,l=t?de(e)?e:Array.from(e.childNodes):e;n!==null&&C===null&&it(l,null,n),r.dom=l}function Ve(e,t){bn(t,!1,e)}function q(e,t){bn(t,!0,e)}function dr(e,t){N(()=>{const n=t();ut(e,n)})}function ut(e,t){const n=e.__nodeValue,r=wn(t);C!==null&&e.nodeValue===r?e.__nodeValue=r:n!==r&&(e.nodeValue=r,e.__nodeValue=r)}function Jt(e,t,n){e.addEventListener("input",()=>{let r=e.value;const l=e.type;(l==="number"||l==="range")&&(r=r===""?null:+r),n(r)}),N(()=>{const r=t(),l=r==null?null:r+"";e.value=l,e.__value=r})}function yn(e){for(let t=0;t<e.length;t++)vn.add(e[t]);for(const t of Bt)t(e)}function _r(e,t){var f;const n=t.type,r=((f=t.composedPath)==null?void 0:f.call(t))||[];let l=r[0]||t.target;t.target!==l&&Te(t,"target",{configurable:!0,value:l});let o=0;const i=t.__root;if(i){const s=r.indexOf(i);s<r.indexOf(e)&&(o=s)}for(l=r[o]||t.target,Te(t,"currentTarget",{configurable:!0,get(){return l||document}});l!==null;){const s=l.parentNode||l.host||null,u="__"+n,a=l[u];if(a!==void 0&&!l.disabled)if(de(a)){const[_,...g]=a;_.apply(l,[t,...g])}else a.call(l,t);if(t.cancelBubble||s===e)break;l=s}t.__root=e}function xn(e,t,n,r){Ye(e),t===void 0?r!==null&&r(e):t(e,n)}function He(e,t,n,r){const l=nr();Ye(e);const o=new Set,i=new Set,f=C;let s=null,u=null,a=!1,_=!1;l.transition=p=>{l.current?(o.add(p),p.finished(()=>{o.delete(p),ct(o),o.size===0&&ee(v)})):(i.add(p),p.finished(()=>{i.delete(p),ct(i),i.size===0&&ee(h)}))};const g=N(()=>{var A;const p=!!t();if(l.current!==p||!a){if(l.current=p,a)p?(i.size===0?ee(h):se(i,"out"),o.size===0?ee(v):se(o,"in")):(o.size===0?ee(v):se(o,"out"),i.size===0?ee(h):se(i,"in"));else if(C!==null){const c=(A=C==null?void 0:C[0])==null?void 0:A.data;!c&&C[0]!==null||c==="ssr:if:true"&&!p||c==="ssr:if:false"&&p?(j(C),fe(null)):C.shift()}a=!0}},l,!1),v=N(()=>{s!==null&&(j(s),s=null),l.current&&(n(e),_||(fe(f),_=!0)),s=l.dom,l.dom=null},l,!0),h=N(()=>{u!==null&&(j(u),u=null),l.current||(r!==null&&r(e),_||(fe(f),_=!0)),u=l.dom,l.dom=null},l,!0);ht(g,()=>{s!==null&&j(s),u!==null&&j(u),T(v),T(h)}),l.effect=g}function pr(e,t,n){const r=rr();let l=null;Ye(e);let o=null;r.transition=u=>{const a=l,_=a.transitions;_.add(u),u.finished(()=>{_.delete(u),ct(_),_.size===0&&a.effect!==null&&(a.dom!==null&&(j(a.dom),a.dom=null),T(a.effect),a.effect=null)})};const i=()=>{const u={dom:null,effect:null,transitions:new Set,prev:l},a=N(()=>{const _=r.dom;_!==null&&(j(_),r.dom=null),o&&n(o),u.dom=r.dom,r.dom=null},r,!0);u.effect=a,l=u},f=()=>{const u=l;if(u===null){i();return}const a=u.transitions;a.size===0?(u.dom!==null&&(j(u.dom),u.dom=null),u.effect?ee(u.effect):i()):(i(),se(a,"out"))},s=N(()=>{const u=t();o!==u&&(o=u,f())},r,!1);ht(s,()=>{let u=l;for(;u!==null;){const a=u.dom;a!==null&&j(a);const _=u.effect;_!==null&&T(_),u=u.prev}}),r.effect=s}function mr(e){const t=e.dom;if(de(t))for(let n=0;n<t.length;n++){const r=t[n];if(r.nodeType!==8)return r}return t}function gr(e,t,n,r){r&mn&&ze(e.item,t);const l=e.transitions,o=(r&gn)!==0;if(l!==null&&r&ir){let i=e.index;o&&(i=i.value);const f=e.parent.items;if(i!==n&&n<f.length){const u=mr(e).getBoundingClientRect();kr(()=>{se(l,"key",u)})}}o?ze(e.index,n):e.index=n}function Ft(e,t,n,r=!1){const l=e.transitions;if(n&&l!==null)se(l,"out"),t!==null&&t.push(e);else{const o=e.dom;!r&&o!==null&&j(o),T(e.effect)}}function Wt(e,t,n,r,l){const o=l&mn?te(e):e,i=l&gn?te(n):n,f=or(o,i,t),s=N(u=>{r(null,u.item,u.index)},f,!0);return f.effect=s,f}function vr(e,t,n,r,l,o,i){const f=(n&rt)!==0,s=lr(n,e);let u=null;Ye(e,f);let a,_=null,g=null;s.transition=p=>{const A=u,c=A.transitions;c.add(p),p.finished(()=>{c.delete(p),ct(c),c.size===0&&A.effect!==null&&(A.dom!==null&&(j(A.dom),A.dom=null),T(A.effect),A.effect=null)})};const v=()=>{const p={dom:null,effect:null,transitions:new Set,prev:u},A=N(()=>{const c=s.dom;c!==null&&(j(c),s.dom=null);let m=s.anchor;(s.flags&rt)!==0&&(m=hn(),s.anchor.appendChild(m)),o(m),p.dom=s.dom,s.dom=null},s,!0);p.effect=A,u=p},h=N(()=>{const p=t();if(a=de(p)?p:p==null?[]:Array.from(p),r!==null){const A=a.length;_=Array(A);for(let c=0;c<A;c++)_[c]=r(a[c])}if(o!==null){if(a.length===0)(s.items.length!==0||g===null)&&v();else if(s.items.length===0&&u!==null){const A=u,c=A.transitions;c.size===0?A.dom!==null&&(j(A.dom),A.dom=null):se(c,"out")}}g!==null&&ee(g)},s,!1);g=N(p=>{const A=p.flags,c=(A&rt)!==0,m=p.anchor;i(a,p,m,c,l,A,!0,_)},s,!0),ht(h,()=>{const p=s.flags,A=(p&rt)!==0,c=s.anchor;let m=u;for(;m!==null;){const y=m.dom;y!==null&&j(y);const x=m.effect;x!==null&&T(x),m=m.prev}i([],s,c,A,l,p,!1,_),T(g)}),s.effect=h}function st(e,t,n,r,l){vr(e,t,n,null,r,l,ar)}function wn(e){return typeof e=="string"?e:e==null?"":e+""}function wt(e,t,n){let r;tn(()=>{if(n){const l=n();be(()=>{if(r===void 0)r=t(e,l);else{const o=r.update;typeof o=="function"&&o(l)}})}else be(()=>r=t(e))}),tn(()=>{if(r!==void 0){const l=r.destroy;if(typeof l=="function")return()=>{l()}}})}function hr(e){C!==null&&(Q(e,"value",null),Q(e,"checked",null))}function Ar(e){C!==null&&e.firstChild!==null&&(e.textContent="")}function Ct(e,t,n){N(()=>{const r=n();Q(e,t,r)})}function Q(e,t,n){n=n==null?null:n+"",(C===null||e.getAttribute(t)!==n&&t!=="src"&&t!=="srcset")&&(n===null?e.removeAttribute(t):e.setAttribute(t,n))}function $t(e,t){return z(()=>{var n=K(e),r={};for(var l in n){if(t.includes(l))continue;const{get:o,value:i,enumerable:f}=we(n,l);Te(r,l,o?{get:o,enumerable:f}:{value:i,enumerable:f})}return r})}function Cn(e){if(typeof e=="function")return z(()=>Cn(e()));const t={};let n;for(let r=0;r<e.length;r++){const l=e[r];for(n in l){const o=we(l,n),i=o.get;i!==void 0?Te(t,n,{enumerable:!0,configurable:!0,get:i}):o.get!==void 0?t[n]=l[n]:Te(t,n,{enumerable:!0,configurable:!0,value:l[n]})}}return t}function K(e){return Ce(e)?d(e):e}function En(e,t){var _,g;zn();const n=new Set,r=t.target,l=tr(r,t.intro||!1),o=r.firstChild,i=mt(o),f=C;let s;try{let v=null;i===null&&(v=hn(),r.appendChild(v)),fe(i);const h=N(()=>{t.context&&(_e({}),I.context=t.context),s=e(v,t.props||{},t.events||{}),t.context&&pe()},l,!0);l.effect=h}catch(v){if(t.recover!==!1&&i!==null)return console.error("Hydration failed because the initial UI does not match what was rendered on the server.",v),j(i),o.remove(),(g=(_=i.at(-1))==null?void 0:_.nextSibling)==null||g.remove(),En(e,t);throw v}finally{fe(f)}const u=_r.bind(null,r),a=v=>{for(let h=0;h<v.length;h++){const p=v[h];n.has(p)||(n.add(p),r.addEventListener(p,u,ur.includes(p)?{passive:!0}:void 0))}};return a(Zn(vn)),Bt.add(a),[s,()=>{for(const h of n)r.removeEventListener(h,u);Bt.delete(a);const v=l.dom;v!==null&&j(v),i!==null&&j(i),T(l.effect)}]}const kn=1,Ue=2,Pe=4,Xe=8,ke=16,Mt=32,Je=64,Re=128,Y=256,J=512,Ee=1024,ft=2048,gt=4096,vt=Pe|Xe|ke|Mt,br=Number.MAX_SAFE_INTEGER,Ke=Symbol();let at=!1,St=!1,W=[],qt=[],Ot=[],dt=0,oe=null,F=null,M=null,U=0,Qe=1,lt=1,ce=!1,jt=!1,qe=null,Ne=!1,D=null,I=null;function yr(e){return{effects:null,props:e,parent:I,accessors:null,context:null,immutable:!1,mounted:!1,runes:!1,update_callbacks:null}}function _t(e){const t=e||I;return t!==null&&t.runes}function xr(e,t){return e===t}function Tt(e,t,n){return{block:n,consumers:null,context:null,dependencies:null,destroy:null,equals:null,flags:e,init:null,read:0,references:null,value:t}}function Rn(e,t){const n=e.references;n===null?e.references=[t]:n.push(t)}function Ht(e){const t=e.flags;if(t&J||e.value===Ke)return!0;if(t&Ee){const n=e.dependencies;if(n!==null){const r=n.length;let l;for(l=0;l<r;l++){const o=n[l];if(o.flags&Ee&&!Ht(o)){ae(o,Y);continue}if(o.flags&J||o.value===Ke)if(o.flags&Ue){if(Fn(o,!0),e.flags&J)return!0}else return!0}}}return!1}function In(e){const t=e.init,n=M,r=U,l=Qe,o=oe,i=D,f=I,s=Ne,u=(e.flags&ke)!==0,a=ce;M=null,U=0,lt===br?lt=1:lt++,Qe=lt,oe=e,D=e.block,I=e.context,Ne=F===null&&(e.flags&Re)!==0,ce=!1,u&&(I==null?void 0:I.update_callbacks)!=null&&I.update_callbacks.execute();try{let _;u?_=t(e.block):_=t();let g=e.dependencies;if(M!==null){let v;if(Le(e,U,!1),g!==null&&U>0)for(g.length=U+M.length,v=0;v<M.length;v++)g[U+v]=M[v];else e.dependencies=g=M;if(!Ne)for(v=U;v<g.length;v++){const h=g[v];h.consumers===null?h.consumers=[e]:h.consumers.push(e)}}else g!==null&&U<g.length&&(Le(e,U,!1),g.length=U);return _}finally{M=n,U=r,Qe=l,oe=o,D=i,I=f,Ne=s,ce=a}}function Le(e,t,n){const r=e.dependencies;if(r!==null){let l;for(l=t;l<r.length;l++){const o=r[l],i=o.consumers;let f=0;if(i!==null)if(f=i.length-1,f===0)o.consumers=null;else{const s=i.indexOf(e);i[s]=i[f],i.pop()}n&&f===0&&o.flags&Re&&Le(o,0,!0)}}}function Bn(e){const t=e.references;if(e.references=null,t!==null){let n;for(n=0;n<t.length;n++){const r=t[n];r.flags&vt?T(r):(Le(r,0,!0),r.dependencies=null)}}}function wr(e,t){if(e!==null)throw t}function ee(e){if(e.flags&gt)return;const t=e.value,n=F;F=e;try{Bn(e),t!==null&&t();const l=In(e);typeof l=="function"&&(e.value=l)}catch(l){const o=e.block;if(o!==null)wr(o,l);else throw l}finally{F=n}const r=e.context;_t(r)&&e.flags&Xe&&W.length>0&&Ir(r)}function pt(e){const t=e.length;if(t>0){if(dt>100)throw new Error("Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops.");dt++;let n;for(n=0;n<t;n++){const r=e[n],l=r.flags;!(l&gt)&&!(l&ft)&&(Ht(r)?(ae(r,Y),ee(r)):l&Ee&&ae(r,Y))}e.length=0}}function Cr(){if(at=!1,dt>101)return;const e=W,t=qt;W=[],qt=[],pt(e),pt(t),at||(dt=0)}function We(e,t){const n=e.flags;t||n&Mt?(ee(e),ae(e,Y)):(at||(at=!0,queueMicrotask(Cr)),n&Pe?qt.push(e):W.push(e))}function Er(){St=!1;const e=Ot.slice();Ot=[];for(let t=0;t<e.length;t++)e[t]()}function kr(e){St||(St=!0,setTimeout(Er,0)),Ot.push(e)}function Rr(){const e=[];for(let t=0;t<W.length;t++){const n=W[t];n.flags&ke&&n.context===I&&(e.push(n),W.splice(t,1),t--)}pt(e)}function Ir(e){const t=[];for(let n=0;n<W.length;n++){const r=W[n];r.flags&Xe&&r.context===e&&(t.push(r),W.splice(n,1),n--)}pt(t)}function Fn(e,t){const n=In(e),r=Ne||F===null&&e.flags&Re?J:Y;ae(e,r);const l=e.equals;l(n,e.value)||(e.value=n,Kt(e,J,t))}function Ze(e,t,n){let r=n[t];const l=r===void 0;l&&(r={store:null,last_value:null,value:te(Ke),unsubscribe:Vt},ht(r.value,()=>{r.last_value=r.value.value}),n[t]=r),(l||r.store!==e)&&(r.unsubscribe(),r.store=e??null,r.unsubscribe=Br(e,r.value));const o=d(r.value);return o===Ke?r.last_value:o}function Br(e,t){return e==null?(G(t,void 0),Vt):sn(e,r=>{jt=!0,G(t,r),jt=!1})}function Ut(e){Vr(()=>{let t;for(t in e){const n=e[t];n.unsubscribe(),T(n.value)}})}function d(e){const t=e.flags;if(t&gt)return e.value;if(oe!==null&&!(oe.flags&Je)&&!ce){const n=(oe.flags&Re)!==0,r=oe.dependencies;M===null&&r!==null&&r[U]===e&&!(n&&F!==null)?U++:M===null?M=[e]:e.read!==Qe&&M.push(e),n||(e.read=Qe)}return t&Ue&&Ht(e)&&Fn(e,!1),e.value}function G(e,t){return ze(e,t),t}function Fr(e){const t=qe;qe=null;try{const n=e();return qe===null?n:qe}finally{qe=t}}function en(e,t){return ze(e,be(()=>d(e))),t}function Nt(e,t){const n=e.flags;(!(n&ft)&&t||n&ft&&!t)&&(e.flags^=ft,!t&&n&vt&&!(n&Y)&&We(e,!1));const r=e.references;if(r!==null){let l;for(l=0;l<r.length;l++)Nt(r[l],t)}}function Kt(e,t,n){const r=_t(e.context),l=e.consumers;if(l!==null){const o=l.length;let i;for(i=0;i<o;i++){const f=l[i],s=f.flags,u=(s&Re)!==0,a=(s&J)!==0;a&&!u||(!n||!r)&&f===F||(ae(f,t),(s&Y||a&&u)&&(f.flags&vt?We(f,!1):Kt(f,Ee,n)))}}}function ze(e,t){if(!ce&&!jt&&oe!==null&&_t(e.context)&&oe.flags&Ue)throw new Error(`Unsafe mutations during Svelte's render or derived phase are not permitted in runes mode. This can lead to unexpected errors and possibly cause infinite loops.

If this mutation is not meant to be reactive do not use the "$state" rune for that declaration.`);if(e.flags&kn&&!e.equals(t,e.value)){const n=e.context;if(e.value=t,_t(n)&&F!==null&&F.consumers===null&&F.flags&Y&&M!==null&&M.includes(e)&&(ae(F,J),We(F,!1)),Kt(e,J,!0),F===null&&W.length===0){const r=n==null?void 0:n.update_callbacks;if(r!=null){r.before.forEach(o=>o());const l=Sn(()=>{T(l),r.after.forEach(o=>o())})}}}}function T(e){const t=e.value,n=e.destroy;if(Bn(e),Le(e,0,!0),e.init=null,e.references=null,e.destroy=null,e.context=null,e.block=null,e.value=null,e.dependencies=null,e.consumers=null,ae(e,gt),n!==null)if(de(n)){let r;for(r=0;r<n.length;r++)n[r]()}else n();t!==null&&e.flags&vt&&t()}function z(e,t){const n=F===null,r=n?Ue|Re:Ue,l=Tt(r|Y,Ke,D);return l.init=e,l.context=I,l.equals=Lt(t),n||Rn(F,l),l}function te(e,t){const n=Tt(kn|Y,e,null);return n.context=I,n.equals=Lt(t),n}function Lt(e){if(e!==void 0)return e;const t=I;return t&&!t.immutable?Nr:xr}function be(e){const t=ce;try{return ce=!0,e()}finally{ce=t}}function ye(e,t,n,r,l){const o=Tt(e|J,null,r);return o.init=t,o.context=I,l&&We(o,n),F!==null&&!(e&Je)&&Rn(F,o),o}function Sr(e){if(F===null)throw new Error("The Svelte $effect rune can only be used during component initialisation.");const t=F.flags&ke&&I!==null&&!I.mounted,n=ye(Pe,e,!1,D,!t);if(t){let r=I.effects;r===null&&(r=I.effects=[]),r.push(n)}return n}function tn(e){return ye(Pe,e,!1,D,!0)}function Sn(e){return ye(Pe|Je,e,!1,D,!0)}function qr(e,t){return ye(Xe|Je,e,t,D,!0)}function Or(e){if(F===null)throw new Error("The Svelte $effect.pre rune can only be used during component initialisation.");const t=F!==null&&(F.flags&ke)!==0;return ye(Xe,()=>{const n=e();return Rr(),n},t,D,!0)}function nn(e){return ye(Mt,e,!0,D,!0)}function N(e,t=D,n=!1,r=!0){let l=ke;return n&&(l|=Je),ye(l,e,r,t,!0)}function ht(e,t){let n=e.destroy;n===null?e.destroy=t:de(n)?n.push(t):e.destroy=[n,t]}function ae(e,t){const n=e.flags;n&t||(n&Ee?e.flags^=Ee:n&Y?e.flags^=Y:n&J&&(e.flags^=J),e.flags^=t)}function Ce(e){return typeof e=="object"&&e!==null&&typeof e.flags=="number"}function ve(e,t,n,r){var h;const l=Ce(e)?d(e):e,o=Fr(()=>l[t]),i=(h=Object.getOwnPropertyDescriptor(l,t))==null?void 0:h.set;let f=l[t];const s=f===void 0&&n!==void 0;if(Ce(o)&&o.value===f&&i===void 0&&Lt()===o.equals)return s&&G(o,r?n():n),o;s&&(f=r?n():n);const u=te(f),a=I.immutable;let _=!1,g=!1,v=!0;if(nn(()=>{const A=(Ce(e)?d(e):e)[t];if(v){v=!1;return}if(_){_=!1;return}rn(a,A,u.value)&&(g=!0,be(()=>ze(u,A)))}),Ce(o)&&i!==void 0){let p=!s;nn(()=>{const A=d(u);if(p){p=!1;return}if(g){g=!1;return}rn(a,A,o.value)&&(_=!0,be(()=>i(A)))})}return u}function Zt(e,t){return()=>(Ce(e)?d(e):e)[t]}function rn(e,t,n){return e?jr(t,n):qn(t,n)}function jr(e,t){return e!=e?t==t:e!==t}function qn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Nr(e,t){return!qn(e,t)}function On(){const e=I;if(e===null)throw new Error("Context can only be used during component initialisation.");let t=e.context;if(t===null){const n=Dr(e);t=e.context=new Map(n||void 0)}return t}function Dr(e){let t=e.parent;for(;t!==null;){const n=t.context;if(n!==null)return n;t=t.parent}return null}function Vr(e){Sr(()=>()=>be(e))}function _e(e,t=!1,n=!1){const r=yr(e);r.runes=t,r.immutable=n,I=r}function pe(e){const t=I;if(t!==null){e!==void 0&&(t.accessors=e);const n=t.effects;if(n!==null){t.effects=null;for(let r=0;r<n.length;r++)We(n[r],!1)}I=t.parent,t.mounted=!0}}function At(e){return On().get(e)}function jn(e,t){return On().set(e,t),t}const Qr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qr);const xe=[];function Et(){}function Gr(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Nn(e,t=Et){let n=null;const r=new Set;function l(f){if(Gr(e,f)&&(e=f,n)){const s=!xe.length;for(const u of r)u[1](),xe.push(u,e);if(s){for(let u=0;u<xe.length;u+=2)xe[u][0](xe[u+1]);xe.length=0}}}function o(f){l(f(e))}function i(f,s=Et){const u=[f,s];return r.add(u),r.size===1&&(n=t(l,o)||Et),f(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:i}}function Ge(e){let t;return sn(e,n=>t=n)(),t}const Dn={},ue=Nn(!1);var Mr=B("<!>",!0);function Tr(e,t){_e(t,!1);let n=ve(t,"home","/",!1);const r=[];function l(s,u){r.push({route:s,element:u})}function o(s){r.map(u=>u.route!==s)}jn(Dn,{registerRoute:l,removeRoute:o,home:d(n)}),window.addEventListener("popstate",()=>{ue.set(!1)});var i=S(e,!0,Mr),f=O(i);xn(f,K(t).children,{},null),q(e,i),pe()}function Ae(e="/",t=history.state,n=!1){n?history.replaceState(t,!1,e):history.pushState(t,!1,e),ue.set(!1)}function Hr(e,t="/"){let n=e.join(t).replace(/\/{1,}/g,t);return n.startsWith(t)||(n=t+n),n.endsWith(t)&&(n=n.slice(0,-1)),n}const Vn=Symbol("wildcard");function Qn(e="",t=!1,n=!0){const r=[],l=e.toString().replace(/(:([^/]+)?|\.\*)/g,i=>{if(i===".*"&&n)return r.push(Vn),"(.*)";{const f=i.slice(1);return r.push(f),"([^/]+)?"}});return{regex:new RegExp(t?"^"+l+"/?$":l),ids:r}}function Ur(e="",t=Qn("")){let n=0;const r={},l=[];return t.regex.exec(e).slice(1).map(o=>{let i=t.ids[n++];i===Vn?l.push(o):r[i]=o}),{params:r,wildcards:l}}function Kr(e="",t=new RegExp("")){return t.test(e)}function Lr(e,t){return e=e.endsWith("/")?e.slice(0,-1):e,e===t||e===t.slice(1)||e.slice(1)===t}var Zr=B("<!>",!0),zr=B("<!>",!0),Yr=B("<!>",!0),Pr=B("<!>",!0);function Oe(e,t){const n=$t(t,["children","$$slots","$$events"]),r=$t(n,["path","component","exact","text","index","$$props"]);_e(t,!1);const l={};Ut(l);const o=()=>Ze(ue,"$matched",l);let i=ve(t,"path","",!1),f=ve(t,"component",null,!1),s=ve(t,"exact",!1,!1),u=ve(t,"text",!1,!1),a=ve(t,"index",!1,!1);const{registerRoute:_,home:g}=At(Dn);G(i,Hr([g,d(i)])),console.log(d(i)),_(d(i).toString(),d(f));let v=te(!1),h=te({}),p=te([]);Or(()=>{o(),d(a),d(u),d(i),d(s),be(()=>{if(o()==!1&&d(a)===!0)G(v,!0),ue.set(!0);else if(o()==!1&&!d(u)){const m=Qn(d(i),d(s));if(Kr(location.pathname,m.regex)){G(v,!0);const y=Ur(location.pathname,m);G(h,y.params),G(p,y.wildcards),ue.set(!0)}else G(v,!1),ue.set(!1)}else o()==!1&&d(u)?Lr(location.pathname,d(i))?(G(v,!0),ue.set(!0)):(G(v,!1),ue.set(!1)):G(v,!1)})});var A=S(e,!0,Pr),c=O(A);He(c,()=>d(v)&&d(f),m=>{var y=S(m,!0,Zr),x=O(y);pr(x,()=>d(f),w=>{w(x,Cn(()=>[{get params(){return d(h)},get wildcards(){return d(p)}},d(r)]))}),q(m,y)},m=>{var y=S(m,!0,Yr),x=O(y);He(x,()=>d(v),w=>{var E=S(w,!0,zr),k=O(E);xn(k,K(t).children,{get params(){return d(h)},get wildcards(){return d(p)}},null),q(w,E)},null),q(m,y)}),q(e,A),pe()}var Xr=B('<hr class="svelte-1ajjpf6">'),Jr=B('<div class="item svelte-1ajjpf6"> </div>'),Wr=B('<div id="nav" class="svelte-1ajjpf6"><a href="./" class="svelte-1ajjpf6"><h3>SvelteFS</h3></a> <!> <!></div>');function $r(e,t){_e(t,!1);let n=Zt(t,"recent");var r=De(e,!0,Wr),l=R(r),o=b(b(l)),i=b(b(o));He(o,()=>n().length>0,f=>{var s=De(f,!0,Xr);Ve(f,s)},null),st(i,()=>n(),1,(f,s,u)=>{var a=De(f,!0,Jr),_=R(a);dr(_,()=>K(s)),Ve(f,a)},null),Ve(e,r),pe()}const ot="svelte-fs.",he={glblKey:ot,filesKey:ot+".FILES",foldersKey:ot+".FOLDERS",recentKey:ot+"recent"},kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOoAAACFCAYAAABVNmTBAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABPdJREFUeJzt3U9OI0cUx/FX1QgQEmtOwCYDxkwmOVa2XGEWWUY5Qk6Rbf5JQxZcgA2QDR4wkUao211vFokjj6e77W6belWZ72eFbQnV5qff63J1241GIxVsWxCRH56eni6ur6+frReD/HnrBfxPeRH57vDw8HI8Hn9rvRjkj6C+IOfcV6r6y3g8fnt8fLxnvR7ki6C+vB1VvTg4OLg8Pz//xnoxyBNBjedVCOFX2hVDENS4aFcMQlBt0K7ohaDa+a9dT09P31gvBmkjqPZeee9/o13RhaCmYd6u70aj0dfWi0F6CGpaTpxzv4/H47cnJye71otBOghqenZU9aIoindnZ2evrReDNBDUdJ2KyB+0K0QIaupoV4gIQc3FqYhw7foFc9zmlp0/ReR7VZ1ZLwRb9fPV1dVD24c7MVeCrXgtIj8556zXgS1S1Tcictn2OaMvkAGCCmSAoAIZIKhABggqkAGCCmSAoAIZIKhABggqkAGCCmSAoAIZIKhABggqkAGCCmRgo9vcnp+f5cOHD9taC/DFqqrqx6Ojo6e2jzcKalmWUpblJv8CwD+6fp7zr41G39mMhwwAEUw2Cmpd19taCIAWqno/OKiqSlCBCJxzwxuVsReIZnij0qZAHBuNvjQqEIf3ntEXSJ2qDg8qoy8QB6MvkIGiKIYFNYQgqvwSBhBDCGHY6FtV1bbXAqBFVVXDGpWxF4imenh4eBoUVDaSgGgmqqo0KpC2icjAG8cJKhCHc+5eZEBQVVVCCNtfEYDPqOqwoNKmQFTDRl82koB4aFQgA865YY1KUIGohjUqoy8QTwiBRgVSVxRF/0at65rD+EBEgxqVsReIq6qq/o3K2AtENXt8fJyK0KhAyib677Vmr6ByHyoQ1f38D0ZfIF2T+R9rB5XD+EB0/RuVNgWi6x9UNpKAuObnfEVoVCBZqkpQgdTNb3ETYfQFkuW9p1GBDPRrVA7jA/GFEPoHFUBcZVn2G30Ze4HoZtPp9HH+gkYF0vReF643aVQgTfeLLwgqkKZ+QVVVRl8gvsnii5VBJaSAiX6NytgLxLd4IF+EoAJJWjyQL0JQgSQtHsgX4RoVSJL3nqACqes1+tZ1zXOSAAO9Rl/aFLBRluX6QWUjCTBRT6fT6eIbBBVIz0RVP7nmZPQFErO8kSRCowLJcc7dL7/XGVR2fAET6zfqbDbjOUmAgeWvZkRWBBVAfMunkkQ6gspGEmCj12YSjQrYIKhABhh9gQysvZkUQuCrGcBICGG90ZexF7Czv7+/XqMSVMBMfXNz87j8JkEF0vJ++UC+SEtQ2UgCbCw/fXCORgUS0rTjK9Kx6wvAxHpB5TA+YKfpVJJIS1AB2Gg6lSTSEFQ2kgA7NCqQgbU3kwgqYMd7v16jMvoCdtZqVA7jA7aaDuSLLAWVsRewtbe3t7pRGXsBU+H29vah6QMaFUhH44F8ERoVSEbTg7fnPglqVVUvvxoAjdoOO4g07PoCMLO6UTmMD9hq+w5VZCmoAOy03TQuQlCBlKwOKju+gC1GXyADbQfyRQgqkIyVjRpCYMcXMBZC6A4qbQrY293d7R592UgCzIW7u7vGA/kiNCqQir9VtbUxCSqQAOfcZ783s4jRF0hDd1BVlaACxpxz067PfV3XfDUD2OtuVNoUsLfyGpWNJMDeytGXoAL2iqKgUYEMEFQgdd77ztH3Iw5Mwnchvwb5AAAAAElFTkSuQmCC",Rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAC0CAYAAAC5ZyNZAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA0lJREFUeJzt3dFK60AUQNFJbTL6oEZ9Ff//1xQ0YpraGuzcL7AXiqets/d6vTAnsHG4DHJsnp6eStJZGccxDcMQdv4i7GSdLaMDGR3I6EBGBzI6kNGBjA603PePpZS03W6P9S3VaJom5ZxP/Rk/2ht9nuf08vJyrG+pxmKxSI+Pj6f+jB95vQMZHcjoQEYHMjqQ0YGMDmR0IKMDGR1o7zPsxcVFur6+Pta3VKNpmlN/wl7/jX53d3esb9GR7I2u08g5p77vw843+hnqui51XRd2vv+RAzI6kNGBjA5kdCCjAxkdyOhAoY8z9/f3vt0fYBzH9Pb2FnZ+aPS2bdPV1VXkiCptNpvQ873egYwOZHQgowMZHcjoQEYHMjqQ0YGMDtRELgRumubsfwf8HJVSUilxe5pD396jP16H8XoHMjqQ0YGMDmR0IKMDGR3I6EBGBwp9kcs5p7ZtI0dUaZ7n0JXrodH7vnd9yQGGYUjPz89h53u9AxkdyOhARgcyOpDRgYwOZHQgowMZHSj0GXaaprTb7SJHVOnz8zP0/NDoq9UqrVaryBE6gNc7kNGBjA5kdCCjAxkdyOhARgcyOpDRgUKfYR8eHtLNzU3kiCp9fHyk19fXsPNDoy+Xy5RzjhxRpeUy9m8ker0DGR3I6EBGBzI6kNGBjA5kdCCjAxkdKHT1t86TP+lARgcyOpDRgYwOZHQgowMZHcjoQEYHCv21y8vLy9R1XeSIKn19faXNZhN2fmj029tbV38fYBiG0Ohe70BGBzI6kNGBjA5kdCCjAxkdyOhARgcK3wL9/f0dOaJKf3r19zRNaZqmyBE6gNc7kNGBjA5kdCCjAxkdyOhARgcyOpDRgcJXf/d9HzmiSu/v73979XfbtpEjquTqb/06owMZHcjoQEYHMjqQ0YGMDmR0oNCnn1JK2u12kSOqVErsYm5XfwN5vQMZHcjoQEYHMjqQ0YGMDmR0IKMDGR0ofPV3zjlyRJW2262rv2lc/a1fZ3QgowMZHcjoQEYHMjqQ0YGMDmR0oNBn2HEc0zzPkSOqFPkEm1Jw9PV6ndbrdeQIHcDrHcjoQEYHMjqQ0YGMDmR0IKMDGR3I6EBGBzI6kNGBjA5kdCCjA/0D9xSTT5EHmRYAAAAASUVORK5CYII=",el="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAjCAYAAABhCKGoAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAS5JREFUSIm91DFuhDAQBdA/tiVqGpp0uUeqlDlNTpITbZMT5AZbOUE0hM1mJYTwbIOQjYkg8pgpkfyfxuOBALxgu14BPK98PwF42zpMAHgHklQqN3AYQgAeyrJ8LIriXTq87/untm3PhpltVVWd1lragDHmg5mvCgCaprkC+JEEiOgy5QYz+ZREmHnOy4b4eTPCzF+Sgp83I0op0U78vGM78QclhMSdaK3zI9LXpbWOr8s5ZyWRYRhixFp7I6KLkNHVdf0bIYDo8IOc5a8+PyI4/CAnQKS2nojyd7LMOX7wUsgyJ0D8LU2pZU6AOOdEOhnH8W/EWnsD0CUa31POOjJVUjfL55sFWXs8a0jq8KPzEbLW7n9qVyepW6+U2u4E6TPZRlK3ftd1pW69MSZC7nmvrgQjO8sCAAAAAElFTkSuQmCC";let Me="abcdefghijklmnopqrstuvwxyz";Me=Me+Me.toUpperCase();let Gn="1234567890",Mn=`~!@#$%^&*()-_=+[]{}|;':.>,</?" `,Tn=Me+Gn,tl=Tn+Mn;function je(e){return e[Math.floor(Math.random()*(e.length-1))]}function ln(e="AAAAAAA-AAAAAAA-AAAAAAA",t=1){let n="";for(let r=0;r<t;r++)for(let l of e.toLowerCase())l==="c"?n+=je(Me):l==="n"?n+=je(Gn):l==="s"?n+=je(Mn):l==="a"?n+=je(Tn):l==="r"?n+=je(tl):n+=l;return n}function Hn(e,t,n,r,l=!0){return!e||e===""?"Invalid file name '"+e+"'":e.toLowerCase()==="edit"||e.toLowerCase()==="svelte-fs"?"Cannot name a file '"+e+"'":e.includes("/")?"File name contains illegal characters.":l&&t.files.some(o=>r.find(i=>i.uuid===o).name===e)?"File with name '"+e+"' already exists":null}function on(e,t,n,r,l=!0){return!e||e===""?alert("Invalid folder name '"+e+"'"):e.toLowerCase()==="root"||e.toLowerCase()==="edit"||e.toLowerCase()==="svelte-fs"?alert("Cannot name a folder '"+e+"'"):e.includes("/")?alert("Folder name contains illegal characters."):l&&t.folders.some(o=>n.find(i=>i.uuid===o).name===e)?"Folder with name '"+e+"' already exists":null}function nl(e,t,n,r,l,o,i){let f=prompt("Folder name?");f=f.trim();let s=t(f,n(),r(d(l)),r(o));if(s!==null)return alert(s);const u={uuid:i(),name:f,parent:n().uuid,files:[],folders:[]};d(l).update(a=>a.unshift(u)&&a),d(l).update(a=>a.map(_=>(_.uuid===n().uuid&&_.folders.unshift(u.uuid),_)))}function rl(e,t,n,r,l,o,i){let f=prompt("File name?");f=f.trim();let s=t(f,n(),r(d(l)),r(o));if(s!==null)return alert(s);const u={uuid:i(),name:f,parent:n().uuid,content:""};o.update(a=>a.unshift(u)&&a),d(l).update(a=>a.map(_=>(_.uuid===n().uuid&&_.files.unshift(u.uuid),_)))}var ll=B('&nbsp; <a style="color: var(--color); text-decoration: none;"> </a>',!0),ol=(e,t,n)=>t(e,d(n)),il=B('<a style="color: var(--color)"><div class="item folder"><span> </span> <button class="refactor-btn" title="rename">R</button></div></a>'),ul=B('<a style="color: var(--color)"><div class="item file"><span> </span></div></a>'),sl=(e,t)=>t(),fl=B(`<div id="folder"><div id="path"></div> <div id="files"><h4><span class="img_container"><img alt="folders" class="folder_img"></span> Folders</h4> <div class="item_wrapper"></div> <h4><span class="img_container"><img alt="files" class="file_img"></span> Files</h4> <div class="item_wrapper"></div></div></div> <div id="controls"><button><img class="new_file_img" title="delete folder" alt="delete folder"></button> <button><img class="new_folder_img" title="new folder" alt="new folder"></button> <button><img class="new_file_img" title="new file" alt="new file"></button></div> <style>#controls { display: flex; align-items: center; justify-content: right; gap: 1rem; } .new_file_img { height: 1.5rem; margin: 0.4rem; display: flex; align-items: center; } .new_folder_img { height: 1.5rem; margin: 0.4rem; display: flex; align-items: center; } #controls { position: absolute; top: 0; right: 0; width: 20rem; height: 3.5rem; display: flex; padding: 1rem; } .img_container { display: inline-block; width: 2rem; height: 1px; text-align: center; } img { margin-top: 0.5rem; margin-right: 0.5rem; } .folder_img { height: 1rem; } .file_img { height: 1.5rem; position: relative; top: 0.33rem; } #path { margin-bottom: 0.75rem; } #files { display: grid; gap: 1rem; } .item_wrapper { display: flex; gap: 1rem; flex-wrap: wrap; } .item { cursor: pointer; width: 12rem; height: 7rem; padding: 1rem; border-radius: 10px; background: var(--bg-secondary); transition: translate 250ms; position: relative; font-size: medium; } .item.file > span { width: calc(100% - 2rem); display: inline-block; word-wrap: break-word; overflow: hidden; } .item.file::after { content: ''; width: 2rem; height: 3rem; position: absolute; right: 0.25rem; top: 0.25rem; background-image: var(--img); background-size: contain; background-repeat: no-repeat; border-top-right-radius: 10px; z-index: 5; } .item.folder > span { width: calc(100% - 3rem); display: inline-block; word-wrap: break-word; overflow: hidden; } .item.folder::after { content: ''; width: 3rem; height: 2rem; position: absolute; right: 0.5rem; top: 0.5rem; background-image: var(--img); background-size: contain; background-repeat: no-repeat; border-top-right-radius: 10px; } .item:hover { translate: 2% -2%; } .item.folder:hover > .refactor-btn { opacity: 100; } .item > * { pointer-events: none; } .refactor-btn { pointer-events: auto; position: absolute; bottom: 0.2rem; right: 0.2rem; width: 2rem; height: 1rem; opacity: 0; transition: opacity 250ms; }</style>`,!0),cl=B("404 - Could not find folder",!0),al=B("<!>",!0);function Dt(e,t){_e(t,!1);const n={};Ut(n);const r=()=>Ze(f,"$files",n),l=()=>Ze(d(s),"$folders",n);let o=Zt(t,"folder");const i=At(he.glblKey),f=i.files,s=te(i.folders);function u(c){return r().find(m=>m.uuid===c)}function a(c){return l().find(m=>m.uuid===c)}function _(){let c=[],m=o();if(!m)return[[]];c.push([m.name]);let y=m.uuid;for(;m.parent&&m.parent!=="root";)m=l().find(w=>w.uuid===m.parent),c.push([m.name]);y!=="root"&&(m=l().find(w=>w.uuid===m.parent),m&&c.push([m.name])),c=c.reverse();let x="";for(let w of c)x+="/"+w[0],w[1]=x.substring(1);return c}function g(c,m){c.href||(c.href=m);function y(x){x.target.parentElement!==c&&x.target!==c||(x.preventDefault(),Ae(c.href))}return c.addEventListener("click",y),{destroy(){c.removeEventListener("click",y)}}}function v(c=o(),m=!0){if(!(!m||confirm("Deleting a folder cannot be undone. Are you sure you would like to delete "+c.name+"?")))return;let x=c.uuid;c.folders.forEach(w=>{v(Ge(d(s)).find(E=>E.uuid===w),!1)}),f.update(w=>w.filter(E=>!c.files.some(k=>k===E.uuid))),d(s).update(w=>w.map(E=>(E.uuid===c.parent&&(E.folders=E.folders.filter(k=>k!==c.uuid)),E))),d(s).update(w=>w.filter(E=>E.uuid!==x)),m&&Ae("../")}function h(c,m){c.preventDefault();const y=prompt("What would you like to rename "+m.name+" to?",m.name);if(y==null)return;const x=l().find(E=>E.uuid===m.parent),w=on(y,x,l(),f,!0);if(w)return alert(w);d(s).update(E=>E.map(k=>(k.uuid===m.uuid&&(k.name=y),k)))}var p=S(e,!0,al),A=O(p);He(A,()=>o(),c=>{var m=S(c,!0,fl),y=O(m),x=R(y),w=b(b(x)),E=R(w),k=R(E),ne=R(k);Q(ne,"src",kt);var $=b(b(E)),V=b(b($)),P=R(V),re=R(P);Q(re,"src",Rt);var Ie=b(b(V)),Be=b(b(y)),$e=R(Be),Un=R($e);Q(Un,"src",el);var bt=b(b($e)),Kn=R(bt);Q(Kn,"src",kt);var zt=b(b(bt)),Ln=R(zt);Q(Ln,"src",Rt);var yt,xt;N(()=>{yt!==(yt=o().name)&&Q(x,"title",yt),xt!==(xt=o().uuid==="root")&&($e.disabled=xt)}),st(x,()=>_(),9,(L,me,Yt)=>{var Z=S(L,!0,ll),H=b(O(Z)),le=R(H);Ct(H,"href",()=>"../".repeat(_().length-1)+K(me)[1]);var ie;N(()=>{ie!==(ie=K(me)[1])&&Q(H,"title",ie),ut(le,`> ${wn(K(me)[0])}`)}),wt(H,Fe=>g(Fe)),q(L,Z)},null),st($,()=>l().find(L=>L.uuid===o().uuid).folders,9,(L,me,Yt)=>{var Z=De(L,!0,il);const H=z(()=>a(K(me)));var le=R(Z);Q(le,"style",`--img:url(${kt})`);var ie=R(le),Fe=R(ie),Se=b(b(ie));Ct(Z,"href",()=>"./"+"../".repeat(_().length-1)+_().at(-1)[1]+"/"+d(H).name);var X;N(()=>{X!==(X=d(H).name)&&Q(le,"title",X),ut(Fe,d(H).name)}),wt(Z,et=>g(et)),Se.__click=[ol,h,H],Ve(L,Z)},null),st(Ie,()=>l().find(L=>L.uuid===o().uuid).files,9,(L,me,Yt)=>{var Z=De(L,!0,ul);const H=z(()=>u(K(me)));var le=R(Z);Q(le,"style",`--img:url(${Rt})`);var ie=R(le),Fe=R(ie);Ct(Z,"href",()=>{var X;return"./"+"../".repeat(_().length-1)+"edit/"+_().at(-1)[1]+"/"+((X=d(H))==null?void 0:X.name)});var Se;N(()=>{var X,et;Se!==(Se=(X=d(H))==null?void 0:X.name)&&Q(le,"title",Se),ut(Fe,(et=d(H))==null?void 0:et.name)}),wt(Z,X=>g(X)),Ve(L,Z)},null),$e.__click=[sl,v],bt.__click=[nl,on,o,Ge,s,f,ln],zt.__click=[rl,Hn,o,Ge,s,f,ln],q(c,m)},c=>{var m=S(c,!0,cl);q(c,m)}),q(e,p),pe()}yn(["click"]);var dl=B("<!>",!0);function _l(e,t){_e(t,!1);const n=At(he.glblKey);var r=S(e,!0,dl),l=O(r);Dt(l,{get folder(){return Ge(n.folders).find(o=>o.uuid==="root")}}),q(e,r),pe()}function It(e,t){let n=Nn((()=>{let l=localStorage.getItem(e);if(l==null)return typeof t=="function"?t():t;try{return JSON.parse(l)}catch{return l}})()),r=!1;return n.subscribe(l=>{if(r===!1)return r=!0;localStorage.setItem(e,JSON.stringify(l))}),n}function pl(e,t,n,r,l,o,i,f,s){if(!confirm("Are you sure you would like to save? (changes cannot be undone)"))return;const a=t(d(n),r(),e,l(o),d(n)!==d(i).name);if(a)return alert(a);en(i,d(i).name=d(n)),en(i,d(i).content=d(f)),o.update(g=>g.map(v=>v.uuid===d(i).uuid?d(i):v));let _=location.pathname.split("/");_[_.length-1]=d(n),s(location.origin+_.join("/"))}function ml(e,t,n,r,l,o,i){confirm("Deleting a file cannot be undone. Are you sure you would like to delete "+d(t)+"?")&&(n.update(s=>s.map(u=>(u.uuid===r().uuid&&(u.files=u.files.filter(a=>a!==d(l).uuid)),u))),o.update(s=>s.filter(u=>u.uuid!==d(l).uuid)),i("/"))}function gl(e,t){let n=location.origin+"/"+location.pathname.split("/").slice(0,-1).filter(r=>r!=="edit").join("/").slice(1);t(n)}var vl=B('<div id="file"><div id="controls"><input placeholder="Filename"> <div id="button_wrapper"><button title="done">DONE</button> <button title="save">SAVE</button> <button title="delete">DELETE</button></div></div> <textarea></textarea></div> <style>input { width: 35%; font-size: large; background-color: rgb(33, 38, 49); border: none; outline: none; color: var(--color); padding: 0.5rem; } button:first-child { background: #628da7; } button:nth-child(2) { background: rgb(108, 170, 108); } button { width: 5rem; height: 2rem; color: rgb(42, 40, 40) 323; border-radius: 5px; color: var(--color); } #button_wrapper { display: flex; width: 100%; justify-content: right; align-items: center; gap: 1rem; } #controls { display: flex; gap: 1rem; align-items: center; } #file { display: grid; gap: 1rem; align-items: center; justify-content: center; } textarea { width: 95svw; height: calc(85svh - 1rem); color: white; background: var(--bg-secondary); border: none; outline: none; padding: 1rem; resize: none; font-size: large; }</style>',!0),hl=B("404 - Could not find file",!0),Al=B("<!>",!0);function un(e,t){_e(t,!1);let n=ve(t,"file"),r=Zt(t,"folder");const{files:l,folders:o}=At(he.glblKey);let i=te(d(n)&&d(n).name),f=te(d(n)&&d(n).content);var s=S(e,!0,Al),u=O(s);He(u,()=>d(n),a=>{var _=S(a,!0,vl),g=O(_),v=R(g),h=R(v);hr(h);var p=b(b(h)),A=R(p),c=b(b(A)),m=b(b(c)),y=b(b(v));Ar(y),Jt(h,()=>d(i),x=>G(i,x)),A.__click=[gl,Ae],c.__click=[pl,Hn,i,r,Ge,l,n,f,Ae],m.__click=[ml,i,o,r,n,l,Ae],Jt(y,()=>d(f),x=>G(f,x)),q(a,_)},a=>{var _=S(a,!0,hl);q(a,_)}),q(e,s),pe()}yn(["click"]);var bl=B("<!>",!0),yl=B("<!>",!0),xl=B("<!>",!0),wl=B("<!>",!0),Cl=B("<!> <!> <!> <!> <!>",!0),El=B('<!> <div id="container"><!></div>',!0);function kl(e,t){_e(t,!1);const n={};Ut(n);const r=()=>Ze(f,"$folders",n),l=()=>Ze(i,"$files",n),o=location.hash;o&&(console.log("detected state"),Ae(new URL(o.slice(1),location.href).href));let i=It(he.filesKey,[]),f=It(he.foldersKey,[{uuid:"root",parent:null,name:"root",files:[],folders:[]}]),s=It(he.recentKey,[]);jn(he.glblKey,{files:i,folders:f,recent:s});function u(p,A=r().find(c=>c.uuid==="root")){let c=decodeURIComponent(p).split("/");c[0].startsWith("/")&&(c[0]=c[0].substring(1)),c[0]==="root"&&c.splice(0,1),c=c.filter(y=>!!y);let m=A;for(let y of c)m=r().find(x=>x.uuid===m.folders.find(w=>r().find(E=>E.uuid===w).name===y));return m}function a(p,A=r().find(c=>c.uuid==="root")){const c=p.split("/"),m=u(c.slice(0,-1).join("/")),y=c.at(-1);return[l().find(w=>w.parent===m.uuid&&w.name===y),m]}location.pathname==="/svelte-fs"&&Ae("/svelte-fs/");var _=S(e,!0,El),g=O(_),v=b(b(g)),h=R(v);$r(g,{recent:s}),Tr(h,{children:(p,A)=>{var c=S(p,!0,Cl),m=O(c),y=b(b(m)),x=b(b(y)),w=b(b(x)),E=b(b(w));Oe(m,{path:"svelte-fs/edit/.*",children:(k,ne)=>{const $=z(()=>K(ne).wildcards);var V=S(k,!0,bl);const P=z(()=>{const[Ie,Be]=a(decodeURIComponent(d($)));return{file:Ie,folder:Be}});var re=O(V);un(re,{get file(){return d(P).file},get folder(){return d(P).folder}}),q(k,V)}}),Oe(y,{path:"svelte-fs/.*",children:(k,ne)=>{const $=z(()=>K(ne).wildcards);var V=S(k,!0,yl);const P=z(()=>u(decodeURIComponent(d($))));var re=O(V);Dt(re,{get folder(){return d(P)}}),q(k,V)}}),Oe(x,{path:"edit/.*",children:(k,ne)=>{const $=z(()=>K(ne).wildcards);var V=S(k,!0,xl);const P=z(()=>{const[Ie,Be]=a(decodeURIComponent(d($)));return{file:Ie,folder:Be}});var re=O(V);un(re,{get file(){return d(P).file},get folder(){return d(P).folder}}),q(k,V)}}),Oe(w,{path:".*",children:(k,ne)=>{const $=z(()=>K(ne).wildcards);var V=S(k,!0,wl);const P=z(()=>u(decodeURIComponent(d($))));var re=O(V);Dt(re,{get folder(){return d(P)}}),q(k,V)}}),Oe(E,{index:!0,component:_l}),q(p,c)}}),q(e,_),pe()}En(kl,{target:document.getElementById("app")});
