(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();const jt=()=>{};function rn(e,t,n){if(e==null)return t(void 0),n&&n(void 0),jt;const r=e.subscribe(t,n);return r.unsubscribe?()=>r.unsubscribe():r}let E=null;function le(e){E=e}function ct(e){const t=[];let n=e,r=null;for(;n!==null;){const l=n.nodeType,o=n.nextSibling;if(l===8){const i=n.data;if(i.startsWith("ssr:")){const f=i.slice(4);if(r===null)r=f;else{if(f===r)return t;t.push(n)}n=o;continue}}r!==null&&t.push(n),n=o}return null}function Ue(e,t){let n=e;if(E!==null)if(t&&(n=n.firstChild),n.nodeType===8){let r=n.$$fragment;r===void 0&&(r=ct(n),n.$$fragment=void 0),le(r)}else le([n.firstChild])}const ln=Object,on=Array,ue=on.isArray,Zn=on.from,De=ln.defineProperty,be=ln.getOwnPropertyDescriptor;var _e,Xe,zt,Je,un,sn,Nt,fn,cn;function zn(){_e===void 0&&(_e=Node.prototype,Xe=Element.prototype,zt=Text.prototype,Je=Map.prototype,un=_e.appendChild,sn=_e.cloneNode,Je.set,Je.get,Je.delete,Xe.__click=void 0,zt.__nodeValue=" ",Xe.__className="",Nt=be(_e,"firstChild").get,fn=be(_e,"nextSibling").get,cn=be(_e,"textContent").set,be(Xe,"className").set)}function Lt(e,t){un.call(e,t)}function Ln(e,t){return sn.call(e,t)}function k(e){const t=Nt.call(e);if(E!==null)if(t===null){const n=document.createTextNode("");return e.appendChild(n),n}else return Dt(t);return t}function D(e){if(E!==null){const t=e[0];return E!==null&&t!==null?Dt(t):t}return Nt.call(e)}function x(e){const t=fn.call(e);return E!==null&&t!==null?Dt(t):t}function Yn(e){cn.call(e,"")}function Dt(e){if(e.nodeType===8&&e.data.startsWith("ssr:")&&E.at(-1)!==e){const t=ct(e),r=(t.at(-1)||e).nextSibling;return r.$$fragment=t,r}return e}const Pn=0,Xn=1,Jn=2,Wn=3,$n=7;function er(e,t){return{dom:null,effect:null,container:e,intro:t,parent:null,transition:null,type:Pn}}function tr(){return{current:!1,dom:null,effect:null,parent:N,transition:null,type:Xn}}function nr(){return{dom:null,effect:null,parent:N,transition:null,type:$n}}function rr(e,t){return{anchor:t,dom:null,flags:e,items:[],effect:null,parent:N,transition:null,transitions:[],type:Jn}}function lr(e,t,n){return{dom:null,effect:null,index:t,key:n,item:e,parent:N,transition:null,transitions:null,type:Wn}}const an=1,dn=2,or=4,We=8,ir=["touchstart","touchmove","touchend"];function ur(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function tt(e,t,n){if(ue(e)){for(var r=0,l;r<e.length;r++)l=e[r],n===null?Lt(t,l):n.before(l);return e[0]}else e!==null&&(n===null?Lt(t,e):n.before(e));return e}function F(e){var t=e;if(ue(e))for(var n=0,r;n<e.length;n++)r=e[n],n===0&&(t=r),r.isConnected&&r.remove();else e.isConnected&&e.remove();return t}function sr(e,t,n,r){var l=e.dom;return r===null?n?tt(l,t,null):tt(l,t.parentNode,t):tt(l,null,r)}function fr(e){var t=e.length;if(t>0){for(var n=0,r,l;n<t;n++)r=e[n],l=r.transition,l!==null&&(r.transition=null,It(r,null,!1));e.length=0}}function cr(e,t,n,r,l,o,i){var f=t.items,s=t.transitions,u=f.length,a=e.length,_=Math.max(u,a),g=0,h,v;if(s.length!==0&&fr(s),a===0)for(h=[],r&&u!==0&&Yn(n);g<_;)v=f[g++],It(v,s,i,r);else{var p;if(h=Array(a),E!==null)for(var A=E[0];g<_;g++){p=e[g];var c=ct(A);le(c),A=c.at(-1).nextSibling.nextSibling,v=Pt(p,null,g,l,o),h[g]=v}else for(;g<_;g++)g>=u?(p=e[g],v=Pt(p,null,g,l,o),h[g]=v,sr(v,n,r,null)):g>=a?(v=f[g],It(v,s,i)):(p=e[g],v=f[g],h[g]=v,mr(v,p,g,o))}t.items=h}function ot(e){for(let t of e)t.direction==="in"&&e.delete(t)}function ne(e,t,n){const r=[];for(const l of e){const o=l.direction;t==="in"?(o==="in"||o==="both"?(o==="in"&&l.cancel(),l.in()):l.cancel(),l.dom.inert=!1,Ot(l.effect,!1)):t==="key"?o==="key"&&(l.payload=l.init(n),l.in()):((o==="out"||o==="both")&&(l.payload=l.init(),r.push(l.out)),l.dom.inert=!0,Ot(l.effect,!0))}if(r.length>0){const l=Sr(()=>{M(l);const o=Rn(()=>{M(o),r.forEach(i=>i())})},!1)}}const _n=new Set,Rt=new Set;function pn(){return document.createTextNode("")}function B(e,t){let n;return()=>{if(n===void 0){const r=ur(e);n=t?r:k(r)}return n}}function mn(e,t,n,r){if(E!==null){n!==null&&Ue(n,!1);const l=E;if(l!==null)return e?l:l[0]}return t?Ln(r(),!0):document.importNode(r(),!0)}function Se(e,t,n){return mn(!1,t,e,n)}function S(e,t,n){return mn(!0,t,e,n)}function gn(e,t,n){const r=N,l=t?ue(e)?e:Array.from(e.childNodes):e;n!==null&&E===null&&tt(l,null,n),r.dom=l}function qe(e,t){gn(t,!1,e)}function q(e,t){gn(t,!0,e)}function ar(e,t){O(()=>{const n=t();nt(e,n)})}function nt(e,t){const n=e.__nodeValue,r=An(t);E!==null&&e.nodeValue===r?e.__nodeValue=r:n!==r&&(e.nodeValue=r,e.__nodeValue=r)}function Yt(e,t,n){e.addEventListener("input",()=>{let r=e.value;const l=e.type;(l==="number"||l==="range")&&(r=r===""?null:+r),n(r)}),O(()=>{const r=t(),l=r==null?null:r+"";e.value=l,e.__value=r})}function hn(e){for(let t=0;t<e.length;t++)_n.add(e[t]);for(const t of Rt)t(e)}function dr(e,t){var f;const n=t.type,r=((f=t.composedPath)==null?void 0:f.call(t))||[];let l=r[0]||t.target;t.target!==l&&De(t,"target",{configurable:!0,value:l});let o=0;const i=t.__root;if(i){const s=r.indexOf(i);s<r.indexOf(e)&&(o=s)}for(l=r[o]||t.target,De(t,"currentTarget",{configurable:!0,get(){return l||document}});l!==null;){const s=l.parentNode||l.host||null,u="__"+n,a=l[u];if(a!==void 0&&!l.disabled)if(ue(a)){const[_,...g]=a;_.apply(l,[t,...g])}else a.call(l,t);if(t.cancelBubble||s===e)break;l=s}t.__root=e}function vn(e,t,n,r){Ue(e),t===void 0?r!==null&&r(e):t(e,n)}function Ve(e,t,n,r){const l=tr();Ue(e);const o=new Set,i=new Set,f=E;let s=null,u=null,a=!1,_=!1;l.transition=p=>{l.current?(o.add(p),p.finished(()=>{o.delete(p),ot(o),o.size===0&&X(h)})):(i.add(p),p.finished(()=>{i.delete(p),ot(i),i.size===0&&X(v)}))};const g=O(()=>{var A;const p=!!t();if(l.current!==p||!a){if(l.current=p,a)p?(i.size===0?X(v):ne(i,"out"),o.size===0?X(h):ne(o,"in")):(o.size===0?X(h):ne(o,"out"),i.size===0?X(v):ne(i,"in"));else if(E!==null){const c=(A=E==null?void 0:E[0])==null?void 0:A.data;!c&&E[0]!==null||c==="ssr:if:true"&&!p||c==="ssr:if:false"&&p?(F(E),le(null)):E.shift()}a=!0}},l,!1),h=O(()=>{s!==null&&(F(s),s=null),l.current&&(n(e),_||(le(f),_=!0)),s=l.dom,l.dom=null},l,!0),v=O(()=>{u!==null&&(F(u),u=null),l.current||(r!==null&&r(e),_||(le(f),_=!0)),u=l.dom,l.dom=null},l,!0);_t(g,()=>{s!==null&&F(s),u!==null&&F(u),M(h),M(v)}),l.effect=g}function _r(e,t,n){const r=nr();let l=null;Ue(e);let o=null;r.transition=u=>{const a=l,_=a.transitions;_.add(u),u.finished(()=>{_.delete(u),ot(_),_.size===0&&a.effect!==null&&(a.dom!==null&&(F(a.dom),a.dom=null),M(a.effect),a.effect=null)})};const i=()=>{const u={dom:null,effect:null,transitions:new Set,prev:l},a=O(()=>{const _=r.dom;_!==null&&(F(_),r.dom=null),o&&n(o),u.dom=r.dom,r.dom=null},r,!0);u.effect=a,l=u},f=()=>{const u=l;if(u===null){i();return}const a=u.transitions;a.size===0?(u.dom!==null&&(F(u.dom),u.dom=null),u.effect?X(u.effect):i()):(i(),ne(a,"out"))},s=O(()=>{const u=t();o!==u&&(o=u,f())},r,!1);_t(s,()=>{let u=l;for(;u!==null;){const a=u.dom;a!==null&&F(a);const _=u.effect;_!==null&&M(_),u=u.prev}}),r.effect=s}function pr(e){const t=e.dom;if(ue(t))for(let n=0;n<t.length;n++){const r=t[n];if(r.nodeType!==8)return r}return t}function mr(e,t,n,r){r&an&&He(e.item,t);const l=e.transitions,o=(r&dn)!==0;if(l!==null&&r&or){let i=e.index;o&&(i=i.value);const f=e.parent.items;if(i!==n&&n<f.length){const u=pr(e).getBoundingClientRect();Er(()=>{ne(l,"key",u)})}}o?He(e.index,n):e.index=n}function It(e,t,n,r=!1){const l=e.transitions;if(n&&l!==null)ne(l,"out"),t!==null&&t.push(e);else{const o=e.dom;!r&&o!==null&&F(o),M(e.effect)}}function Pt(e,t,n,r,l){const o=l&an?J(e):e,i=l&dn?J(n):n,f=lr(o,i,t),s=O(u=>{r(null,u.item,u.index)},f,!0);return f.effect=s,f}function gr(e,t,n,r,l,o,i){const f=(n&We)!==0,s=rr(n,e);let u=null;Ue(e,f);let a,_=null,g=null;s.transition=p=>{const A=u,c=A.transitions;c.add(p),p.finished(()=>{c.delete(p),ot(c),c.size===0&&A.effect!==null&&(A.dom!==null&&(F(A.dom),A.dom=null),M(A.effect),A.effect=null)})};const h=()=>{const p={dom:null,effect:null,transitions:new Set,prev:u},A=O(()=>{const c=s.dom;c!==null&&(F(c),s.dom=null);let m=s.anchor;(s.flags&We)!==0&&(m=pn(),s.anchor.appendChild(m)),o(m),p.dom=s.dom,s.dom=null},s,!0);p.effect=A,u=p},v=O(()=>{const p=t();if(a=ue(p)?p:p==null?[]:Array.from(p),r!==null){const A=a.length;_=Array(A);for(let c=0;c<A;c++)_[c]=r(a[c])}if(o!==null){if(a.length===0)(s.items.length!==0||g===null)&&h();else if(s.items.length===0&&u!==null){const A=u,c=A.transitions;c.size===0?A.dom!==null&&(F(A.dom),A.dom=null):ne(c,"out")}}g!==null&&X(g)},s,!1);g=O(p=>{const A=p.flags,c=(A&We)!==0,m=p.anchor;i(a,p,m,c,l,A,!0,_)},s,!0),_t(v,()=>{const p=s.flags,A=(p&We)!==0,c=s.anchor;let m=u;for(;m!==null;){const b=m.dom;b!==null&&F(b);const y=m.effect;y!==null&&M(y),m=m.prev}i([],s,c,A,l,p,!1,_),M(g)}),s.effect=v}function rt(e,t,n,r,l){gr(e,t,n,null,r,l,cr)}function An(e){return typeof e=="string"?e:e==null?"":e+""}function bt(e,t,n){let r;Wt(()=>{if(n){const l=n();ge(()=>{if(r===void 0)r=t(e,l);else{const o=r.update;typeof o=="function"&&o(l)}})}else ge(()=>r=t(e))}),Wt(()=>{if(r!==void 0){const l=r.destroy;if(typeof l=="function")return()=>{l()}}})}function hr(e){E!==null&&(V(e,"value",null),V(e,"checked",null))}function vr(e){E!==null&&e.firstChild!==null&&(e.textContent="")}function yt(e,t,n){O(()=>{const r=n();V(e,t,r)})}function V(e,t,n){n=n==null?null:n+"",(E===null||e.getAttribute(t)!==n&&t!=="src"&&t!=="srcset")&&(n===null?e.removeAttribute(t):e.setAttribute(t,n))}function Xt(e,t){return re(()=>{var n=L(e),r={};for(var l in n){if(t.includes(l))continue;const{get:o,value:i,enumerable:f}=be(n,l);De(r,l,o?{get:o,enumerable:f}:{value:i,enumerable:f})}return r})}function bn(e){if(typeof e=="function")return re(()=>bn(e()));const t={};let n;for(let r=0;r<e.length;r++){const l=e[r];for(n in l){const o=be(l,n),i=o.get;i!==void 0?De(t,n,{enumerable:!0,configurable:!0,get:i}):o.get!==void 0?t[n]=l[n]:De(t,n,{enumerable:!0,configurable:!0,value:l[n]})}}return t}function L(e){return ye(e)?d(e):e}function yn(e,t){var _,g;zn();const n=new Set,r=t.target,l=er(r,t.intro||!1),o=r.firstChild,i=ct(o),f=E;let s;try{let h=null;i===null&&(h=pn(),r.appendChild(h)),le(i);const v=O(()=>{t.context&&(se({}),R.context=t.context),s=e(h,t.props||{},t.events||{}),t.context&&fe()},l,!0);l.effect=v}catch(h){if(t.recover!==!1&&i!==null)return console.error("Hydration failed because the initial UI does not match what was rendered on the server.",h),F(i),o.remove(),(g=(_=i.at(-1))==null?void 0:_.nextSibling)==null||g.remove(),yn(e,t);throw h}finally{le(f)}const u=dr.bind(null,r),a=h=>{for(let v=0;v<h.length;v++){const p=h[v];n.has(p)||(n.add(p),r.addEventListener(p,u,ir.includes(p)?{passive:!0}:void 0))}};return a(Zn(_n)),Rt.add(a),[s,()=>{for(const v of n)r.removeEventListener(v,u);Rt.delete(a);const h=l.dom;h!==null&&F(h),i!==null&&F(i),M(l.effect)}]}const xn=1,Qe=2,Ke=4,Ze=8,Ce=16,Vt=32,ze=64,Ee=128,Z=256,Y=512,we=1024,lt=2048,at=4096,dt=Ke|Ze|Ce|Vt,Ar=Number.MAX_SAFE_INTEGER,Ge=Symbol();let it=!1,Bt=!1,P=[],Ft=[],St=[],ut=0,$=null,I=null,G=null,H=0,Oe=1,$e=1,oe=!1,qt=!1,Ie=null,Fe=!1,N=null,R=null;function br(e){return{effects:null,props:e,parent:R,accessors:null,context:null,immutable:!1,mounted:!1,runes:!1,update_callbacks:null}}function st(e){const t=e||R;return t!==null&&t.runes}function yr(e,t){return e===t}function Qt(e,t,n){return{block:n,consumers:null,context:null,dependencies:null,destroy:null,equals:null,flags:e,init:null,read:0,references:null,value:t}}function wn(e,t){const n=e.references;n===null?e.references=[t]:n.push(t)}function Gt(e){const t=e.flags;if(t&Y||e.value===Ge)return!0;if(t&we){const n=e.dependencies;if(n!==null){const r=n.length;let l;for(l=0;l<r;l++){const o=n[l];if(o.flags&we&&!Gt(o)){ie(o,Z);continue}if(o.flags&Y||o.value===Ge)if(o.flags&Qe){if(kn(o,!0),e.flags&Y)return!0}else return!0}}}return!1}function Cn(e){const t=e.init,n=G,r=H,l=Oe,o=$,i=N,f=R,s=Fe,u=(e.flags&Ce)!==0,a=oe;G=null,H=0,$e===Ar?$e=1:$e++,Oe=$e,$=e,N=e.block,R=e.context,Fe=I===null&&(e.flags&Ee)!==0,oe=!1,u&&(R==null?void 0:R.update_callbacks)!=null&&R.update_callbacks.execute();try{let _;u?_=t(e.block):_=t();let g=e.dependencies;if(G!==null){let h;if(Me(e,H,!1),g!==null&&H>0)for(g.length=H+G.length,h=0;h<G.length;h++)g[H+h]=G[h];else e.dependencies=g=G;if(!Fe)for(h=H;h<g.length;h++){const v=g[h];v.consumers===null?v.consumers=[e]:v.consumers.push(e)}}else g!==null&&H<g.length&&(Me(e,H,!1),g.length=H);return _}finally{G=n,H=r,Oe=l,$=o,N=i,R=f,Fe=s,oe=a}}function Me(e,t,n){const r=e.dependencies;if(r!==null){let l;for(l=t;l<r.length;l++){const o=r[l],i=o.consumers;let f=0;if(i!==null)if(f=i.length-1,f===0)o.consumers=null;else{const s=i.indexOf(e);i[s]=i[f],i.pop()}n&&f===0&&o.flags&Ee&&Me(o,0,!0)}}}function En(e){const t=e.references;if(e.references=null,t!==null){let n;for(n=0;n<t.length;n++){const r=t[n];r.flags&dt?M(r):(Me(r,0,!0),r.dependencies=null)}}}function xr(e,t){if(e!==null)throw t}function X(e){if(e.flags&at)return;const t=e.value,n=I;I=e;try{En(e),t!==null&&t();const l=Cn(e);typeof l=="function"&&(e.value=l)}catch(l){const o=e.block;if(o!==null)xr(o,l);else throw l}finally{I=n}const r=e.context;st(r)&&e.flags&Ze&&P.length>0&&Rr(r)}function ft(e){const t=e.length;if(t>0){if(ut>100)throw new Error("Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops.");ut++;let n;for(n=0;n<t;n++){const r=e[n],l=r.flags;!(l&at)&&!(l&lt)&&(Gt(r)?(ie(r,Z),X(r)):l&we&&ie(r,Z))}e.length=0}}function wr(){if(it=!1,ut>101)return;const e=P,t=Ft;P=[],Ft=[],ft(e),ft(t),it||(ut=0)}function Le(e,t){const n=e.flags;t||n&Vt?(X(e),ie(e,Z)):(it||(it=!0,queueMicrotask(wr)),n&Ke?Ft.push(e):P.push(e))}function Cr(){Bt=!1;const e=St.slice();St=[];for(let t=0;t<e.length;t++)e[t]()}function Er(e){Bt||(Bt=!0,setTimeout(Cr,0)),St.push(e)}function kr(){const e=[];for(let t=0;t<P.length;t++){const n=P[t];n.flags&Ce&&n.context===R&&(e.push(n),P.splice(t,1),t--)}ft(e)}function Rr(e){const t=[];for(let n=0;n<P.length;n++){const r=P[n];r.flags&Ze&&r.context===e&&(t.push(r),P.splice(n,1),n--)}ft(t)}function kn(e,t){const n=Cn(e),r=Fe||I===null&&e.flags&Ee?Y:Z;ie(e,r);const l=e.equals;l(n,e.value)||(e.value=n,Tt(e,Y,t))}function Te(e,t,n){let r=n[t];const l=r===void 0;l&&(r={store:null,last_value:null,value:J(Ge),unsubscribe:jt},_t(r.value,()=>{r.last_value=r.value.value}),n[t]=r),(l||r.store!==e)&&(r.unsubscribe(),r.store=e??null,r.unsubscribe=Ir(e,r.value));const o=d(r.value);return o===Ge?r.last_value:o}function Ir(e,t){return e==null?(Q(t,void 0),jt):rn(e,r=>{qt=!0,Q(t,r),qt=!1})}function Mt(e){Dr(()=>{let t;for(t in e){const n=e[t];n.unsubscribe(),M(n.value)}})}function d(e){const t=e.flags;if(t&at)return e.value;if($!==null&&!($.flags&ze)&&!oe){const n=($.flags&Ee)!==0,r=$.dependencies;G===null&&r!==null&&r[H]===e&&!(n&&I!==null)?H++:G===null?G=[e]:e.read!==Oe&&G.push(e),n||(e.read=Oe)}return t&Qe&&Gt(e)&&kn(e,!1),e.value}function Q(e,t){return He(e,t),t}function Br(e){const t=Ie;Ie=null;try{const n=e();return Ie===null?n:Ie}finally{Ie=t}}function Jt(e,t){return He(e,ge(()=>d(e))),t}function Ot(e,t){const n=e.flags;(!(n&lt)&&t||n&lt&&!t)&&(e.flags^=lt,!t&&n&dt&&!(n&Z)&&Le(e,!1));const r=e.references;if(r!==null){let l;for(l=0;l<r.length;l++)Ot(r[l],t)}}function Tt(e,t,n){const r=st(e.context),l=e.consumers;if(l!==null){const o=l.length;let i;for(i=0;i<o;i++){const f=l[i],s=f.flags,u=(s&Ee)!==0,a=(s&Y)!==0;a&&!u||(!n||!r)&&f===I||(ie(f,t),(s&Z||a&&u)&&(f.flags&dt?Le(f,!1):Tt(f,we,n)))}}}function He(e,t){if(!oe&&!qt&&$!==null&&st(e.context)&&$.flags&Qe)throw new Error(`Unsafe mutations during Svelte's render or derived phase are not permitted in runes mode. This can lead to unexpected errors and possibly cause infinite loops.

If this mutation is not meant to be reactive do not use the "$state" rune for that declaration.`);if(e.flags&xn&&!e.equals(t,e.value)){const n=e.context;if(e.value=t,st(n)&&I!==null&&I.consumers===null&&I.flags&Z&&G!==null&&G.includes(e)&&(ie(I,Y),Le(I,!1)),Tt(e,Y,!0),I===null&&P.length===0){const r=n==null?void 0:n.update_callbacks;if(r!=null){r.before.forEach(o=>o());const l=Rn(()=>{M(l),r.after.forEach(o=>o())})}}}}function M(e){const t=e.value,n=e.destroy;if(En(e),Me(e,0,!0),e.init=null,e.references=null,e.destroy=null,e.context=null,e.block=null,e.value=null,e.dependencies=null,e.consumers=null,ie(e,at),n!==null)if(ue(n)){let r;for(r=0;r<n.length;r++)n[r]()}else n();t!==null&&e.flags&dt&&t()}function re(e,t){const n=I===null,r=n?Qe|Ee:Qe,l=Qt(r|Z,Ge,N);return l.init=e,l.context=R,l.equals=Ht(t),n||wn(I,l),l}function J(e,t){const n=Qt(xn|Z,e,null);return n.context=R,n.equals=Ht(t),n}function Ht(e){if(e!==void 0)return e;const t=R;return t&&!t.immutable?jr:yr}function ge(e){const t=oe;try{return oe=!0,e()}finally{oe=t}}function he(e,t,n,r,l){const o=Qt(e|Y,null,r);return o.init=t,o.context=R,l&&Le(o,n),I!==null&&!(e&ze)&&wn(I,o),o}function Fr(e){if(I===null)throw new Error("The Svelte $effect rune can only be used during component initialisation.");const t=I.flags&Ce&&R!==null&&!R.mounted,n=he(Ke,e,!1,N,!t);if(t){let r=R.effects;r===null&&(r=R.effects=[]),r.push(n)}return n}function Wt(e){return he(Ke,e,!1,N,!0)}function Rn(e){return he(Ke|ze,e,!1,N,!0)}function Sr(e,t){return he(Ze|ze,e,t,N,!0)}function qr(e){if(I===null)throw new Error("The Svelte $effect.pre rune can only be used during component initialisation.");const t=I!==null&&(I.flags&Ce)!==0;return he(Ze,()=>{const n=e();return kr(),n},t,N,!0)}function $t(e){return he(Vt,e,!0,N,!0)}function O(e,t=N,n=!1,r=!0){let l=Ce;return n&&(l|=ze),he(l,e,r,t,!0)}function _t(e,t){let n=e.destroy;n===null?e.destroy=t:ue(n)?n.push(t):e.destroy=[n,t]}function ie(e,t){const n=e.flags;n&t||(n&we?e.flags^=we:n&Z?e.flags^=Z:n&Y&&(e.flags^=Y),e.flags^=t)}function ye(e){return typeof e=="object"&&e!==null&&typeof e.flags=="number"}function pe(e,t,n,r){var v;const l=ye(e)?d(e):e,o=Br(()=>l[t]),i=(v=Object.getOwnPropertyDescriptor(l,t))==null?void 0:v.set;let f=l[t];const s=f===void 0&&n!==void 0;if(ye(o)&&o.value===f&&i===void 0&&Ht()===o.equals)return s&&Q(o,r?n():n),o;s&&(f=r?n():n);const u=J(f),a=R.immutable;let _=!1,g=!1,h=!0;if($t(()=>{const A=(ye(e)?d(e):e)[t];if(h){h=!1;return}if(_){_=!1;return}en(a,A,u.value)&&(g=!0,ge(()=>He(u,A)))}),ye(o)&&i!==void 0){let p=!s;$t(()=>{const A=d(u);if(p){p=!1;return}if(g){g=!1;return}en(a,A,o.value)&&(_=!0,ge(()=>i(A)))})}return u}function Ut(e,t){return()=>(ye(e)?d(e):e)[t]}function en(e,t,n){return e?Or(t,n):In(t,n)}function Or(e,t){return e!=e?t==t:e!==t}function In(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function jr(e,t){return!In(e,t)}function Bn(){const e=R;if(e===null)throw new Error("Context can only be used during component initialisation.");let t=e.context;if(t===null){const n=Nr(e);t=e.context=new Map(n||void 0)}return t}function Nr(e){let t=e.parent;for(;t!==null;){const n=t.context;if(n!==null)return n;t=t.parent}return null}function Dr(e){Fr(()=>()=>ge(e))}function se(e,t=!1,n=!1){const r=br(e);r.runes=t,r.immutable=n,R=r}function fe(e){const t=R;if(t!==null){e!==void 0&&(t.accessors=e);const n=t.effects;if(n!==null){t.effects=null;for(let r=0;r<n.length;r++)Le(n[r],!1)}R=t.parent,t.mounted=!0}}function pt(e){return Bn().get(e)}function Fn(e,t){return Bn().set(e,t),t}const Vr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Vr);const Ae=[];function xt(){}function Qr(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Sn(e,t=xt){let n=null;const r=new Set;function l(f){if(Qr(e,f)&&(e=f,n)){const s=!Ae.length;for(const u of r)u[1](),Ae.push(u,e);if(s){for(let u=0;u<Ae.length;u+=2)Ae[u][0](Ae[u+1]);Ae.length=0}}}function o(f){l(f(e))}function i(f,s=xt){const u=[f,s];return r.add(u),r.size===1&&(n=t(l,o)||xt),f(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:l,update:o,subscribe:i}}function je(e){let t;return rn(e,n=>t=n)(),t}const qn={},te=Sn(!1);var Gr=B("<!>",!0);function Mr(e,t){se(t,!1);let n=pe(t,"home","/",!1);const r=[];function l(s,u){r.push({route:s,element:u})}function o(s){r.map(u=>u.route!==s)}Fn(qn,{registerRoute:l,removeRoute:o,home:d(n)}),window.addEventListener("popstate",()=>{te.set(!1)});var i=S(e,!0,Gr),f=D(i);vn(f,L(t).children,{},null),q(e,i),fe()}function xe(e="/",t=history.state,n=!1){n?history.replaceState(t,!1,e):history.pushState(t,!1,e),te.set(!1)}function Tr(e,t="/"){let n=e.join(t).replace(/\/{1,}/g,t);return n.startsWith(t)||(n=t+n),n.endsWith(t)&&(n=n.slice(0,-1)),n}const On=Symbol("wildcard");function jn(e="",t=!1,n=!0){const r=[],l=e.toString().replace(/(:([^/]+)?|\.\*)/g,i=>{if(i===".*"&&n)return r.push(On),"(.*)";{const f=i.slice(1);return r.push(f),"([^/]+)?"}});return{regex:new RegExp(t?"^"+l+"/?$":l),ids:r}}function Hr(e="",t=jn("")){let n=0;const r={},l=[];return t.regex.exec(e).slice(1).map(o=>{let i=t.ids[n++];i===On?l.push(o):r[i]=o}),{params:r,wildcards:l}}function Ur(e="",t=new RegExp("")){return t.test(e)}function Kr(e,t){return e=e.endsWith("/")?e.slice(0,-1):e,e===t||e===t.slice(1)||e.slice(1)===t}var Zr=B("<!>",!0),zr=B("<!>",!0),Lr=B("<!>",!0),Yr=B("<!>",!0);function wt(e,t){const n=Xt(t,["children","$$slots","$$events"]),r=Xt(n,["path","component","exact","text","index","$$props"]);se(t,!1);const l={};Mt(l);const o=()=>Te(te,"$matched",l);let i=pe(t,"path","",!1),f=pe(t,"component",null,!1),s=pe(t,"exact",!1,!1),u=pe(t,"text",!1,!1),a=pe(t,"index",!1,!1);const{registerRoute:_,home:g}=pt(qn);Q(i,Tr([g,d(i)])),console.log(d(i)),_(d(i).toString(),d(f));let h=J(!1),v=J({}),p=J([]);qr(()=>{o(),d(a),d(u),d(i),d(s),ge(()=>{if(o()==!1&&d(a)===!0)Q(h,!0),te.set(!0);else if(o()==!1&&!d(u)){const m=jn(d(i),d(s));if(Ur(location.pathname,m.regex)){Q(h,!0);const b=Hr(location.pathname,m);Q(v,b.params),Q(p,b.wildcards),te.set(!0)}else Q(h,!1),te.set(!1)}else o()==!1&&d(u)?Kr(location.pathname,d(i))?(Q(h,!0),te.set(!0)):(Q(h,!1),te.set(!1)):Q(h,!1)})});var A=S(e,!0,Yr),c=D(A);Ve(c,()=>d(h)&&d(f),m=>{var b=S(m,!0,Zr),y=D(b);_r(y,()=>d(f),w=>{w(y,bn(()=>[{get params(){return d(v)},get wildcards(){return d(p)}},d(r)]))}),q(m,b)},m=>{var b=S(m,!0,Lr),y=D(b);Ve(y,()=>d(h),w=>{var C=S(w,!0,zr),j=D(C);vn(j,L(t).children,{get params(){return d(v)},get wildcards(){return d(p)}},null),q(w,C)},null),q(m,b)}),q(e,A),fe()}var Pr=B('<hr class="svelte-1ajjpf6">'),Xr=B('<div class="item svelte-1ajjpf6"> </div>'),Jr=B('<div id="nav" class="svelte-1ajjpf6"><a href="./" class="svelte-1ajjpf6"><h3>SvelteFS</h3></a> <!> <!></div>');function Wr(e,t){se(t,!1);let n=Ut(t,"recent");var r=Se(e,!0,Jr),l=k(r),o=x(x(l)),i=x(x(o));Ve(o,()=>n().length>0,f=>{var s=Se(f,!0,Pr);qe(f,s)},null),rt(i,()=>n(),1,(f,s,u)=>{var a=Se(f,!0,Xr),_=k(a);ar(_,()=>L(s)),qe(f,a)},null),qe(e,r),fe()}const et="svelte-fs.",me={glblKey:et,filesKey:et+".FILES",foldersKey:et+".FOLDERS",recentKey:et+"recent"},Ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOoAAACFCAYAAABVNmTBAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABPdJREFUeJzt3U9OI0cUx/FX1QgQEmtOwCYDxkwmOVa2XGEWWUY5Qk6Rbf5JQxZcgA2QDR4wkUao211vFokjj6e77W6belWZ72eFbQnV5qff63J1241GIxVsWxCRH56eni6ur6+frReD/HnrBfxPeRH57vDw8HI8Hn9rvRjkj6C+IOfcV6r6y3g8fnt8fLxnvR7ki6C+vB1VvTg4OLg8Pz//xnoxyBNBjedVCOFX2hVDENS4aFcMQlBt0K7ohaDa+a9dT09P31gvBmkjqPZeee9/o13RhaCmYd6u70aj0dfWi0F6CGpaTpxzv4/H47cnJye71otBOghqenZU9aIoindnZ2evrReDNBDUdJ2KyB+0K0QIaupoV4gIQc3FqYhw7foFc9zmlp0/ReR7VZ1ZLwRb9fPV1dVD24c7MVeCrXgtIj8556zXgS1S1Tcictn2OaMvkAGCCmSAoAIZIKhABggqkAGCCmSAoAIZIKhABggqkAGCCmSAoAIZIKhABggqkAGCCmRgo9vcnp+f5cOHD9taC/DFqqrqx6Ojo6e2jzcKalmWUpblJv8CwD+6fp7zr41G39mMhwwAEUw2Cmpd19taCIAWqno/OKiqSlCBCJxzwxuVsReIZnij0qZAHBuNvjQqEIf3ntEXSJ2qDg8qoy8QB6MvkIGiKIYFNYQgqvwSBhBDCGHY6FtV1bbXAqBFVVXDGpWxF4imenh4eBoUVDaSgGgmqqo0KpC2icjAG8cJKhCHc+5eZEBQVVVCCNtfEYDPqOqwoNKmQFTDRl82koB4aFQgA865YY1KUIGohjUqoy8QTwiBRgVSVxRF/0at65rD+EBEgxqVsReIq6qq/o3K2AtENXt8fJyK0KhAyib677Vmr6ByHyoQ1f38D0ZfIF2T+R9rB5XD+EB0/RuVNgWi6x9UNpKAuObnfEVoVCBZqkpQgdTNb3ETYfQFkuW9p1GBDPRrVA7jA/GFEPoHFUBcZVn2G30Ze4HoZtPp9HH+gkYF0vReF643aVQgTfeLLwgqkKZ+QVVVRl8gvsnii5VBJaSAiX6NytgLxLd4IF+EoAJJWjyQL0JQgSQtHsgX4RoVSJL3nqACqes1+tZ1zXOSAAO9Rl/aFLBRluX6QWUjCTBRT6fT6eIbBBVIz0RVP7nmZPQFErO8kSRCowLJcc7dL7/XGVR2fAET6zfqbDbjOUmAgeWvZkRWBBVAfMunkkQ6gspGEmCj12YSjQrYIKhABhh9gQysvZkUQuCrGcBICGG90ZexF7Czv7+/XqMSVMBMfXNz87j8JkEF0vJ++UC+SEtQ2UgCbCw/fXCORgUS0rTjK9Kx6wvAxHpB5TA+YKfpVJJIS1AB2Gg6lSTSEFQ2kgA7NCqQgbU3kwgqYMd7v16jMvoCdtZqVA7jA7aaDuSLLAWVsRewtbe3t7pRGXsBU+H29vah6QMaFUhH44F8ERoVSEbTg7fnPglqVVUvvxoAjdoOO4g07PoCMLO6UTmMD9hq+w5VZCmoAOy03TQuQlCBlKwOKju+gC1GXyADbQfyRQgqkIyVjRpCYMcXMBZC6A4qbQrY293d7R592UgCzIW7u7vGA/kiNCqQir9VtbUxCSqQAOfcZ783s4jRF0hDd1BVlaACxpxz067PfV3XfDUD2OtuVNoUsLfyGpWNJMDeytGXoAL2iqKgUYEMEFQgdd77ztH3Iw5Mwnchvwb5AAAAAElFTkSuQmCC",Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAC0CAYAAAC5ZyNZAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA0lJREFUeJzt3dFK60AUQNFJbTL6oEZ9Ff//1xQ0YpraGuzcL7AXiqets/d6vTAnsHG4DHJsnp6eStJZGccxDcMQdv4i7GSdLaMDGR3I6EBGBzI6kNGBjA603PePpZS03W6P9S3VaJom5ZxP/Rk/2ht9nuf08vJyrG+pxmKxSI+Pj6f+jB95vQMZHcjoQEYHMjqQ0YGMDmR0IKMDGR1o7zPsxcVFur6+Pta3VKNpmlN/wl7/jX53d3esb9GR7I2u08g5p77vw843+hnqui51XRd2vv+RAzI6kNGBjA5kdCCjAxkdyOhAoY8z9/f3vt0fYBzH9Pb2FnZ+aPS2bdPV1VXkiCptNpvQ873egYwOZHQgowMZHcjoQEYHMjqQ0YGMDtRELgRumubsfwf8HJVSUilxe5pD396jP16H8XoHMjqQ0YGMDmR0IKMDGR3I6EBGBwp9kcs5p7ZtI0dUaZ7n0JXrodH7vnd9yQGGYUjPz89h53u9AxkdyOhARgcyOpDRgYwOZHQgowMZHSj0GXaaprTb7SJHVOnz8zP0/NDoq9UqrVaryBE6gNc7kNGBjA5kdCCjAxkdyOhARgcyOpDRgUKfYR8eHtLNzU3kiCp9fHyk19fXsPNDoy+Xy5RzjhxRpeUy9m8ker0DGR3I6EBGBzI6kNGBjA5kdCCjAxkdKHT1t86TP+lARgcyOpDRgYwOZHQgowMZHcjoQEYHCv21y8vLy9R1XeSIKn19faXNZhN2fmj029tbV38fYBiG0Ohe70BGBzI6kNGBjA5kdCCjAxkdyOhARgcK3wL9/f0dOaJKf3r19zRNaZqmyBE6gNc7kNGBjA5kdCCjAxkdyOhARgcyOpDRgcJXf/d9HzmiSu/v73979XfbtpEjquTqb/06owMZHcjoQEYHMjqQ0YGMDmR0oNCnn1JK2u12kSOqVErsYm5XfwN5vQMZHcjoQEYHMjqQ0YGMDmR0IKMDGR0ofPV3zjlyRJW2262rv2lc/a1fZ3QgowMZHcjoQEYHMjqQ0YGMDmR0oNBn2HEc0zzPkSOqFPkEm1Jw9PV6ndbrdeQIHcDrHcjoQEYHMjqQ0YGMDmR0IKMDGR3I6EBGBzI6kNGBjA5kdCCjA/0D9xSTT5EHmRYAAAAASUVORK5CYII=",$r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAjCAYAAABhCKGoAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAS5JREFUSIm91DFuhDAQBdA/tiVqGpp0uUeqlDlNTpITbZMT5AZbOUE0hM1mJYTwbIOQjYkg8pgpkfyfxuOBALxgu14BPK98PwF42zpMAHgHklQqN3AYQgAeyrJ8LIriXTq87/untm3PhpltVVWd1lragDHmg5mvCgCaprkC+JEEiOgy5QYz+ZREmHnOy4b4eTPCzF+Sgp83I0op0U78vGM78QclhMSdaK3zI9LXpbWOr8s5ZyWRYRhixFp7I6KLkNHVdf0bIYDo8IOc5a8+PyI4/CAnQKS2nojyd7LMOX7wUsgyJ0D8LU2pZU6AOOdEOhnH8W/EWnsD0CUa31POOjJVUjfL55sFWXs8a0jq8KPzEbLW7n9qVyepW6+U2u4E6TPZRlK3ftd1pW69MSZC7nmvrgQjO8sCAAAAAElFTkSuQmCC";let Ne="abcdefghijklmnopqrstuvwxyz";Ne=Ne+Ne.toUpperCase();let Nn="1234567890",Dn=`~!@#$%^&*()-_=+[]{}|;':.>,</?" `,Vn=Ne+Nn,el=Vn+Dn;function Be(e){return e[Math.floor(Math.random()*(e.length-1))]}function tn(e="AAAAAAA-AAAAAAA-AAAAAAA",t=1){let n="";for(let r=0;r<t;r++)for(let l of e.toLowerCase())l==="c"?n+=Be(Ne):l==="n"?n+=Be(Nn):l==="s"?n+=Be(Dn):l==="a"?n+=Be(Vn):l==="r"?n+=Be(el):n+=l;return n}function Qn(e,t,n,r,l=!0){return!e||e===""?"Invalid file name '"+e+"'":e.toLowerCase()==="edit"?"Cannot name a file '"+e+"'":e.includes("/")?"File name contains illegal characters.":l&&t.files.some(o=>r.find(i=>i.uuid===o).name===e)?"File with name '"+e+"' already exists":null}function nn(e,t,n,r,l=!0){return!e||e===""?alert("Invalid folder name '"+e+"'"):e.toLowerCase()==="root"||e.toLowerCase()==="edit"?alert("Cannot name a folder '"+e+"'"):e.includes("/")?alert("Folder name contains illegal characters."):l&&t.folders.some(o=>n.find(i=>i.uuid===o).name===e)?"Folder with name '"+e+"' already exists":null}function tl(e,t,n,r,l,o,i){let f=prompt("Folder name?");f=f.trim();let s=t(f,n(),r(d(l)),r(o));if(s!==null)return alert(s);const u={uuid:i(),name:f,parent:n().uuid,files:[],folders:[]};d(l).update(a=>a.unshift(u)&&a),d(l).update(a=>a.map(_=>(_.uuid===n().uuid&&_.folders.unshift(u.uuid),_)))}function nl(e,t,n,r,l,o,i){let f=prompt("File name?");f=f.trim();let s=t(f,n(),r(d(l)),r(o));if(s!==null)return alert(s);const u={uuid:i(),name:f,parent:n().uuid,content:""};o.update(a=>a.unshift(u)&&a),d(l).update(a=>a.map(_=>(_.uuid===n().uuid&&_.files.unshift(u.uuid),_)))}var rl=B('&nbsp; <a style="color: var(--color); text-decoration: none;"> </a>',!0),ll=(e,t,n)=>t(e,d(n)),ol=B('<a style="color: var(--color)"><div class="item folder"><span> </span> <button class="refactor-btn" title="rename">R</button></div></a>'),il=B('<a style="color: var(--color)"><div class="item file"><span> </span></div></a>'),ul=(e,t)=>t(),sl=B(`<div id="folder"><div id="path"></div> <div id="files"><h4><span class="img_container"><img alt="folders" class="folder_img"></span> Folders</h4> <div class="item_wrapper"></div> <h4><span class="img_container"><img alt="files" class="file_img"></span> Files</h4> <div class="item_wrapper"></div></div></div> <div id="controls"><button><img class="new_file_img" title="delete folder" alt="delete folder"></button> <button><img class="new_folder_img" title="new folder" alt="new folder"></button> <button><img class="new_file_img" title="new file" alt="new file"></button></div> <style>#controls { display: flex; align-items: center; justify-content: right; gap: 1rem; } .new_file_img { height: 1.5rem; margin: 0.4rem; display: flex; align-items: center; } .new_folder_img { height: 1.5rem; margin: 0.4rem; display: flex; align-items: center; } #controls { position: absolute; top: 0; right: 0; width: 20rem; height: 3.5rem; display: flex; padding: 1rem; } .img_container { display: inline-block; width: 2rem; height: 1px; text-align: center; } img { margin-top: 0.5rem; margin-right: 0.5rem; } .folder_img { height: 1rem; } .file_img { height: 1.5rem; position: relative; top: 0.33rem; } #path { margin-bottom: 0.75rem; } #files { display: grid; gap: 1rem; } .item_wrapper { display: flex; gap: 1rem; flex-wrap: wrap; } .item { cursor: pointer; width: 12rem; height: 7rem; padding: 1rem; border-radius: 10px; background: var(--bg-secondary); transition: translate 250ms; position: relative; font-size: medium; } .item.file > span { width: calc(100% - 2rem); display: inline-block; word-wrap: break-word; overflow: hidden; } .item.file::after { content: ''; width: 2rem; height: 3rem; position: absolute; right: 0.25rem; top: 0.25rem; background-image: var(--img); background-size: contain; background-repeat: no-repeat; border-top-right-radius: 10px; z-index: 5; } .item.folder > span { width: calc(100% - 3rem); display: inline-block; word-wrap: break-word; overflow: hidden; } .item.folder::after { content: ''; width: 3rem; height: 2rem; position: absolute; right: 0.5rem; top: 0.5rem; background-image: var(--img); background-size: contain; background-repeat: no-repeat; border-top-right-radius: 10px; } .item:hover { translate: 2% -2%; } .item.folder:hover > .refactor-btn { opacity: 100; } .item > * { pointer-events: none; } .refactor-btn { pointer-events: auto; position: absolute; bottom: 0.2rem; right: 0.2rem; width: 2rem; height: 1rem; opacity: 0; transition: opacity 250ms; }</style>`,!0),fl=B("404 - Could not find folder",!0),cl=B("<!>",!0);function Gn(e,t){se(t,!1);const n={};Mt(n);const r=()=>Te(f,"$files",n),l=()=>Te(d(s),"$folders",n);let o=Ut(t,"folder");const i=pt(me.glblKey),f=i.files,s=J(i.folders);function u(c){return r().find(m=>m.uuid===c)}function a(c){return l().find(m=>m.uuid===c)}function _(){let c=[],m=o();if(!m)return[[]];for(c.push([m.name]);m.parent&&m.parent!=="root";)m=l().find(y=>y.uuid===m.parent),c.push([m.name]);m=l().find(y=>y.uuid===m.parent),m&&c.push([m.name]),c=c.reverse();let b="";for(let y of c)b+="/"+y[0],y[1]=b.substring(1);return c}function g(c,m){c.href||(c.href=m);function b(y){y.target.parentElement!==c&&y.target!==c||(y.preventDefault(),xe(c.href))}return c.addEventListener("click",b),{destroy(){c.removeEventListener("click",b)}}}function h(c=o(),m=!0){if(!(!m||confirm("Deleting a folder cannot be undone. Are you sure you would like to delete "+c.name+"?")))return;let y=c.uuid;c.folders.forEach(w=>{h(je(d(s)).find(C=>C.uuid===w),!1)}),f.update(w=>w.filter(C=>!c.files.some(j=>j===C.uuid))),d(s).update(w=>w.map(C=>(C.uuid===c.parent&&(C.folders=C.folders.filter(j=>j!==c.uuid)),C))),d(s).update(w=>w.filter(C=>C.uuid!==y)),m&&xe("/")}function v(c,m){c.preventDefault();const b=prompt("What would you like to rename "+m.name+" to?",m.name);if(b==null)return;const y=l().find(C=>C.uuid===m.parent),w=nn(b,y,l(),f,!0);if(w)return alert(w);d(s).update(C=>C.map(j=>(j.uuid===m.uuid&&(j.name=b),j)))}var p=S(e,!0,cl),A=D(p);Ve(A,()=>o(),c=>{var m=S(c,!0,sl),b=D(m),y=k(b),w=x(x(y)),C=k(w),j=k(C),ce=k(j);V(ce,"src",Ct);var ae=x(x(C)),ve=x(x(ae)),mt=k(ve),gt=k(mt);V(gt,"src",Et);var Mn=x(x(ve)),Tn=x(x(b)),Ye=k(Tn),Hn=k(Ye);V(Hn,"src",$r);var ht=x(x(Ye)),Un=k(ht);V(Un,"src",Ct);var Kt=x(x(ht)),Kn=k(Kt);V(Kn,"src",Et);var vt,At;O(()=>{vt!==(vt=o().name)&&V(y,"title",vt),At!==(At=o().uuid==="root")&&(Ye.disabled=At)}),rt(y,()=>_(),9,(U,de,Zt)=>{var K=S(U,!0,rl),T=x(D(K)),W=k(T);yt(T,"href",()=>"../".repeat(_().length-1)+L(de)[1]);var ee;O(()=>{ee!==(ee=L(de)[1])&&V(T,"title",ee),nt(W,`> ${An(L(de)[0])}`)}),bt(T,ke=>g(ke)),q(U,K)},null),rt(ae,()=>l().find(U=>U.uuid===o().uuid).folders,9,(U,de,Zt)=>{var K=Se(U,!0,ol);const T=re(()=>a(L(de)));var W=k(K);V(W,"style",`--img:url(${Ct})`);var ee=k(W),ke=k(ee),Re=x(x(ee));yt(K,"href",()=>"../".repeat(_().length)+_().at(-1)[1]+"/"+d(T).name);var z;O(()=>{z!==(z=d(T).name)&&V(W,"title",z),nt(ke,d(T).name)}),bt(K,Pe=>g(Pe)),Re.__click=[ll,v,T],qe(U,K)},null),rt(Mn,()=>l().find(U=>U.uuid===o().uuid).files,9,(U,de,Zt)=>{var K=Se(U,!0,il);const T=re(()=>u(L(de)));var W=k(K);V(W,"style",`--img:url(${Et})`);var ee=k(W),ke=k(ee);yt(K,"href",()=>{var z;return"../".repeat(_().length)+"edit/"+_().at(-1)[1]+"/"+((z=d(T))==null?void 0:z.name)});var Re;O(()=>{var z,Pe;Re!==(Re=(z=d(T))==null?void 0:z.name)&&V(W,"title",Re),nt(ke,(Pe=d(T))==null?void 0:Pe.name)}),bt(K,z=>g(z)),qe(U,K)},null),Ye.__click=[ul,h],ht.__click=[tl,nn,o,je,s,f,tn],Kt.__click=[nl,Qn,o,je,s,f,tn],q(c,m)},c=>{var m=S(c,!0,fl);q(c,m)}),q(e,p),fe()}hn(["click"]);var al=B("<!>",!0);function dl(e,t){se(t,!1);const n=pt(me.glblKey);var r=S(e,!0,al),l=D(r);Gn(l,{get folder(){return je(n.folders).find(o=>o.uuid==="root")}}),q(e,r),fe()}function kt(e,t){let n=Sn((()=>{let l=localStorage.getItem(e);if(l==null)return typeof t=="function"?t():t;try{return JSON.parse(l)}catch{return l}})()),r=!1;return n.subscribe(l=>{if(r===!1)return r=!0;localStorage.setItem(e,JSON.stringify(l))}),n}function _l(e,t,n,r,l,o,i,f,s){if(!confirm("Are you sure you would like to save? (changes cannot be undone)"))return;const a=t(d(n),r(),e,l(o),d(n)!==d(i).name);if(a)return alert(a);Jt(i,d(i).name=d(n)),Jt(i,d(i).content=d(f)),o.update(g=>g.map(h=>h.uuid===d(i).uuid?d(i):h));let _=location.pathname.split("/");_[_.length-1]=d(n),s(location.origin+_.join("/"))}function pl(e,t,n,r,l,o,i){confirm("Deleting a file cannot be undone. Are you sure you would like to delete "+d(t)+"?")&&(n.update(s=>s.map(u=>(u.uuid===r().uuid&&(u.files=u.files.filter(a=>a!==d(l).uuid)),u))),o.update(s=>s.filter(u=>u.uuid!==d(l).uuid)),i("/"))}function ml(e,t){let n=location.origin+"/"+location.pathname.split("/").slice(2,-1).join("/");t(n)}var gl=B('<div id="file"><div id="controls"><input placeholder="Filename"> <div id="button_wrapper"><button title="done">DONE</button> <button title="save">SAVE</button> <button title="delete">DELETE</button></div></div> <textarea></textarea></div> <style>input { width: 35%; font-size: large; background-color: rgb(33, 38, 49); border: none; outline: none; color: var(--color); padding: 0.5rem; } button:first-child { background: #628da7; } button:nth-child(2) { background: rgb(108, 170, 108); } button { width: 5rem; height: 2rem; color: rgb(42, 40, 40) 323; border-radius: 5px; color: var(--color); } #button_wrapper { display: flex; width: 100%; justify-content: right; align-items: center; gap: 1rem; } #controls { display: flex; gap: 1rem; align-items: center; } #file { display: grid; gap: 1rem; align-items: center; justify-content: center; } textarea { width: 95svw; height: calc(85svh - 1rem); color: white; background: var(--bg-secondary); border: none; outline: none; padding: 1rem; resize: none; font-size: large; }</style>',!0),hl=B("404 - Could not find file",!0),vl=B("<!>",!0);function Al(e,t){se(t,!1);let n=pe(t,"file"),r=Ut(t,"folder");const{files:l,folders:o}=pt(me.glblKey);let i=J(d(n)&&d(n).name),f=J(d(n)&&d(n).content);var s=S(e,!0,vl),u=D(s);Ve(u,()=>d(n),a=>{var _=S(a,!0,gl),g=D(_),h=k(g),v=k(h);hr(v);var p=x(x(v)),A=k(p),c=x(x(A)),m=x(x(c)),b=x(x(h));vr(b),Yt(v,()=>d(i),y=>Q(i,y)),A.__click=[ml,xe],c.__click=[_l,Qn,i,r,je,l,n,f,xe],m.__click=[pl,i,o,r,n,l,xe],Yt(b,()=>d(f),y=>Q(f,y)),q(a,_)},a=>{var _=S(a,!0,hl);q(a,_)}),q(e,s),fe()}hn(["click"]);var bl=B("<!>",!0),yl=B("<!>",!0),xl=B("<!> <!> <!>",!0),wl=B('<!> <div id="container"><!></div>',!0);function Cl(e,t){se(t,!1);const n={};Mt(n);const r=()=>Te(f,"$folders",n),l=()=>Te(i,"$files",n),o=location.hash;o&&(console.log("detected state"),xe(new URL(o.slice(1),location.href).href));let i=kt(me.filesKey,[]),f=kt(me.foldersKey,[{uuid:"root",parent:null,name:"root",files:[],folders:[]}]),s=kt(me.recentKey,[]);Fn(me.glblKey,{files:i,folders:f,recent:s});function u(p,A=r().find(c=>c.uuid==="root")){let c=decodeURIComponent(p).split("/");c[0].startsWith("/")&&(c[0]=c[0].substring(1)),c[0]==="root"&&c.splice(0,1),c=c.filter(b=>!!b);let m=A;for(let b of c)m=r().find(y=>y.uuid===m.folders.find(w=>r().find(C=>C.uuid===w).name===b));return m}function a(p,A=r().find(c=>c.uuid==="root")){const c=p.split("/"),m=u(c.slice(0,-1).join("/")),b=c.at(-1);return[l().find(w=>w.parent===m.uuid&&w.name===b),m]}var _=S(e,!0,wl),g=D(_),h=x(x(g)),v=k(h);Wr(g,{recent:s}),Mr(v,{children:(p,A)=>{var c=S(p,!0,xl),m=D(c),b=x(x(m)),y=x(x(b));wt(m,{path:"(svelte-fs/)?edit/.*",children:(w,C)=>{const j=re(()=>L(C).wildcards);var ce=S(w,!0,bl);const ae=re(()=>{const[mt,gt]=a(decodeURIComponent(d(j)));return{file:mt,folder:gt}});var ve=D(ce);Al(ve,{get file(){return d(ae).file},get folder(){return d(ae).folder}}),q(w,ce)}}),wt(b,{path:"(svelte-fs/)?.*",children:(w,C)=>{const j=re(()=>L(C).wildcards);var ce=S(w,!0,yl);const ae=re(()=>u(decodeURIComponent(d(j))));var ve=D(ce);Gn(ve,{get folder(){return d(ae)}}),q(w,ce)}}),wt(y,{index:!0,component:dl}),q(p,c)}}),q(e,_),fe()}yn(Cl,{target:document.getElementById("app")});
